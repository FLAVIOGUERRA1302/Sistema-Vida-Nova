var app=angular.module("app",["ngRoute","ngAnimate","ngFileUpload","ngDialog","ui.bootstrap","color.picker","ui.utils.masks","idf.br-filters","ngTagsInput","textAngular"]).config(function($routeProvider,$locationProvider){$routeProvider.when("/Voluntario",{templateUrl:"/templates/Voluntario/List.html",controller:"VoluntarioControl",resolve:{voluntarios:function(VoluntarioService){return VoluntarioService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Voluntario/Criar",{templateUrl:"/templates/Voluntario/Create.html",controller:"VoluntarioCreateControl"}).when("/Voluntario/Editar/:id",{templateUrl:"/templates/Voluntario/Update.html",controller:"VoluntarioUpdateControl",resolve:{voluntario:function(VoluntarioService,$route){return VoluntarioService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Voluntario/Visualizar/:id",{templateUrl:"/templates/Voluntario/Detalhe.html",controller:"VoluntarioUpdateControl",resolve:{voluntario:function(VoluntarioService,$route){return VoluntarioService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Interessado",{templateUrl:"/templates/Interessado/List.html",controller:"InteressadoControl",resolve:{interessados:function(InteressadoService){return InteressadoService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Interessado/Criar",{templateUrl:"/templates/Interessado/Create.html",controller:"InteressadoCreateControl"}).when("/Interessado/Editar/:id",{templateUrl:"/templates/Interessado/Update.html",controller:"InteressadoUpdateControl",resolve:{interessado:function(InteressadoService,$route){return InteressadoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Interessado/Visualizar/:id",{templateUrl:"/templates/Interessado/Detalhe.html",controller:"InteressadoUpdateControl",resolve:{interessado:function(InteressadoService,$route){return InteressadoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Evento",{templateUrl:"/templates/Evento/List.html",controller:"EventoControl",resolve:{eventos:function(EventoService){return EventoService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Evento/Criar",{templateUrl:"/templates/Evento/Create.html",controller:"EventoCreateControl"}).when("/Evento/Calendario",{templateUrl:"/templates/Evento/Calendario.html"}).when("/Evento/Editar/:id",{templateUrl:"/templates/Evento/Update.html",controller:"EventoUpdateControl",resolve:{evento:function(EventoService,$route){return EventoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Evento/Visualizar/:id",{templateUrl:"/templates/Evento/Detalhe.html",controller:"EventoUpdateControl",resolve:{evento:function(EventoService,$route){return EventoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doador",{templateUrl:"/templates/Doador/List.html",controller:"DoadorControl",resolve:{doadores:function(DoadorService){return DoadorService.Read(null,0,10,"PF")},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doador/Criar/PF",{templateUrl:"/templates/Doador/CreatePf.html",controller:"DoadorCreateControl",resolve:{doador:function(){return{tipo:"PF"}}}}).when("/Doador/Criar/PJ",{templateUrl:"/templates/Doador/CreatePj.html",controller:"DoadorCreateControl",resolve:{doador:function(){return{tipo:"PJ"}}}}).when("/Doador/Editar/:id",{templateUrl:"/templates/Doador/Update.html",controller:"DoadorUpdateControl",resolve:{doador:function(DoadorService,$route){return DoadorService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doador/Visualizar/:id",{templateUrl:"/templates/Doador/Detalhe.html",controller:"DoadorUpdateControl",resolve:{doador:function(DoadorService,$route){return DoadorService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Favorecido",{templateUrl:"/templates/Favorecido/List.html",controller:"FavorecidoControl",resolve:{favorecidos:function(FavorecidoService){return FavorecidoService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Favorecido/Criar",{templateUrl:"/templates/Favorecido/Create.html",controller:"FavorecidoCreateControl"}).when("/Favorecido/Editar/:id",{templateUrl:"/templates/Favorecido/Update.html",controller:"FavorecidoUpdateControl",resolve:{favorecido:function(FavorecidoService,$route){return FavorecidoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Favorecido/Visualizar/:id",{templateUrl:"/templates/Favorecido/Detalhe.html",controller:"FavorecidoUpdateControl",resolve:{favorecido:function(FavorecidoService,$route){return FavorecidoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Informativo",{templateUrl:"/templates/Informativo/Create.html",controller:"InformativoControl",resolve:{informativo:function(InformativoService){return InformativoService.Read()},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}});$locationProvider.html5Mode(!0)}),ufs;angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","ter\u00e7a-feira","quarta-feira","quinta-feira","sexta-feira","s\u00e1bado"],ERANAMES:["antes de Cristo","depois de Cristo"],ERAS:["a.C.","d.C."],FIRSTDAYOFWEEK:6,MONTH:["janeiro","fevereiro","mar\u00e7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","s\u00e1b"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],STANDALONEMONTH:["janeiro","fevereiro","mar\u00e7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss",short:"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"pt-br",localeID:"pt_BR",pluralCat:function(n){return n>=0&&n<=2&&n!=2?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}]);ufs={AC:"Acre",AL:"Alagoas",AP:"Amap\u00e1",AM:"Amazonas",BA:"Bahia",CE:"Cear\u00e1",DF:"Distrito Federal",ES:"Esp\u00edrito Santo",GO:"Goi\u00e1s",MA:"Maranh\u00e3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\u00e1",PB:"Para\u00edba",PR:"Paran\u00e1",PE:"Pernambuco",PI:"Piau\u00ed",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\u00f4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\u00e3o Paulo",SE:"Sergipe",TO:"Tocantins"};app=angular.module("app");app.factory("VoluntarioService",["$http","$q","Upload",function($http,$q,Upload){var s={};return s.Create=function(voluntario){var deferred=$q.defer(),req={method:"POST",url:"/api/Voluntario",headers:{"Content-Type":"application/json"},data:JSON.stringify(voluntario),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Voluntario/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(voluntario){var deferred=$q.defer(),req={method:"PUT",url:"/api/Voluntario/"+voluntario.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(voluntario),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(voluntario){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Voluntario/"+voluntario.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.Upload=function(voluntario,foto){var deferred=$q.defer();return Upload.upload({url:"/api/Voluntario/"+voluntario.id,data:{file:foto}}).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)},function(evt){deferred.notify(Math.min(100,parseInt(100*evt.loaded/evt.total)))}),deferred.promise},s}]);app.factory("InteressadoService",["$http","$q",function($http,$q){var s={};return s.Create=function(interessado){var deferred=$q.defer(),req={method:"POST",url:"/api/Interessado",headers:{"Content-Type":"application/json"},data:JSON.stringify(interessado),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Interessado/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(interessado){var deferred=$q.defer(),req={method:"PUT",url:"/api/Interessado/"+interessado.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(interessado),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(interessado){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Interessado/"+interessado.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("EventoService",["$http","$q",function($http,$q){var s={};return s.Create=function(evento){var deferred=$q.defer(),req={method:"POST",url:"/api/Evento",headers:{"Content-Type":"application/json"},data:JSON.stringify(evento),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Evento/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(evento){var deferred=$q.defer(),req={method:"PUT",url:"/api/Evento/"+evento.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(evento),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(evento){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Evento/"+evento.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("DoadorService",["$http","$q",function($http,$q){var s={};return s.Create=function(doador){var deferred=$q.defer(),req={method:"POST",url:"/api/Doador",headers:{"Content-Type":"application/json"},data:JSON.stringify(doador),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,tipo,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Doador/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),tipo!==null&&tipo!==undefined&&tipo!==""&&(req.params.tipo=tipo),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(doador){var deferred=$q.defer(),req={method:"PUT",url:"/api/Doador/"+doador.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(doador),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(doador){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Doador/"+doador.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("FavorecidoService",["$http","$q",function($http,$q){var s={};return s.Create=function(favorecido){var deferred=$q.defer(),req={method:"POST",url:"/api/Favorecido",headers:{"Content-Type":"application/json"},data:JSON.stringify(favorecido),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Favorecido/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(favorecido){var deferred=$q.defer(),req={method:"PUT",url:"/api/Favorecido/"+favorecido.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(favorecido),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(favorecido){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Favorecido/"+favorecido.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("CepService",["$http","$q",function($http,$q){var s={};return s.Pesquisa=function(cep){var deferred=$q.defer(),req={method:"GET",url:"http://api.postmon.com.br/v1/cep/"+cep,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("UsuarioService",["$http","$q",function($http,$q){var s={};return s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Usuario/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("InformativoService",["$http","$q","Upload",function($http,$q,Upload){var s={};return s.Read=function(){var deferred=$q.defer();return $http({method:"GET",url:"/api/Informativo/",headers:{"Content-Type":"application/json"},dataType:"json"}).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(informativo){var deferred=$q.defer(),req={method:"PUT",url:"/api/Informativo/"+informativo.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(informativo),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Send=function(informativo){var deferred=$q.defer(),req={method:"POST",url:"/api/Informativo/Send/"+informativo.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(informativo){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Informativo/"+informativo.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.Attach=function(informativo,files){var deferred=$q.defer();return Upload.upload({url:"/api/Informativo/Attach/"+informativo.id,data:{files:files}}).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)},function(evt){deferred.notify(Math.min(100,parseInt(100*evt.loaded/evt.total)))}),deferred.promise},s.Detach=function(informativo,attachment){var deferred=$q.defer(),req={method:"POST",url:"/api/Informativo/Detach/"+informativo.id+"/"+attachment.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app=angular.module("app");app.directive("calendar",function(){return{restrict:"A",scope:{editable:"=?",events:"=?",eventClickEndPoint:"=?"},link:function(scope,element){element.fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listMonth"},locale:"pt-br",navLinks:!0,businessHours:!0,editable:scope.editable,events:scope.events,eventClick:function(calEvent){window.location.href=scope.eventClickEndPoint+calEvent.id}})}}});angular.module("app").controller("HomeController",["$scope",function(){}]).controller("UserFotoController",["$scope",function(){}]);angular.module("app").controller("VoluntarioControl",["$scope","VoluntarioService","$uibModal","voluntarios","loadingDialod","ngDialog",function($scope,VoluntarioService,$uibModal,voluntarios,loadingDialod,ngDialog){loadingDialod.close();var itensPorPagina=10;$scope.voluntarios=voluntarios;$scope.valorPesquisa="";$scope.totalItems=VoluntarioService.totalItems;$scope.currentPage=1;$scope.pageChanged=function(){VoluntarioService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(voluntarios){$scope.voluntarios=voluntarios;$scope.totalItems=VoluntarioService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(voluntario){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Volunt\u00e1rio?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){VoluntarioService.Delete(voluntario).then(function(){var index=$scope.voluntarios.indexOf(voluntario);$scope.voluntarios.splice(index,1)},function(){})},function(){})}}]).controller("VoluntarioUpdateControl",["$scope","VoluntarioService","voluntario","CepService","loadingDialod","$location",function($scope,VoluntarioService,voluntario,CepService,loadingDialod,$location){loadingDialod.close();$scope.voluntario=voluntario;$scope.random=(new Date).getTime();$scope.ufs=ufs;$scope.voluntario.dataNascimento instanceof Date||($scope.voluntario.dataNascimento=new Date($scope.voluntario.dataNascimento));$scope.salvar=function(){VoluntarioService.Update($scope.voluntario).then(function(){$location.path("/Voluntario")},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})};$scope.Upload=function(){VoluntarioService.Upload($scope.voluntario,$scope.picFile).then(function(){$scope.random=(new Date).getTime();$scope.progresso=0;$scope.picFile=null},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})},function(progresso){$scope.progresso=progresso})};$scope.buscaCep=function(){$scope.voluntario&&$scope.voluntario.endereco&&$scope.voluntario.endereco.cep&&CepService.Pesquisa($scope.voluntario.endereco.cep).then(function(endereco){endereco.estado&&($scope.voluntario.endereco.estado=endereco.estado);endereco.bairro&&($scope.voluntario.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.voluntario.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.voluntario.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("VoluntarioCreateControl",["$scope","VoluntarioService","CepService","$location","ngDialog",function($scope,VoluntarioService,CepService,$location,ngDialog){$scope.voluntario={};$scope.salvar=function(){VoluntarioService.Create($scope.voluntario).then(function(){$location.path("/Voluntario/")},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})};$scope.ufs=ufs;$scope.buscaCep=function(){$scope.voluntario&&$scope.voluntario.endereco&&$scope.voluntario.endereco.cep&&CepService.Pesquisa($scope.voluntario.endereco.cep).then(function(endereco){endereco.estado&&($scope.voluntario.endereco.estado=endereco.estado);endereco.bairro&&($scope.voluntario.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.voluntario.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.voluntario.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]);angular.module("app").controller("InteressadoControl",["$scope","InteressadoService","interessados","loadingDialod","ngDialog",function($scope,InteressadoService,interessados,loadingDialod,ngDialog){loadingDialod.close();var itensPorPagina=10;$scope.interessados=interessados;$scope.totalItems=InteressadoService.totalItems;$scope.currentPage=1;$scope.pageChanged=function(){InteressadoService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(interessados){$scope.interessados=interessados;$scope.totalItems=InteressadoService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(interessado){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Interessado?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){InteressadoService.Delete(interessado).then(function(){var index=$scope.interessados.indexOf(interessado);$scope.interessados.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("InteressadoUpdateControl",["$scope","InteressadoService","interessado","loadingDialod","$location",function($scope,InteressadoService,interessado,loadingDialod,$location){loadingDialod.close();$scope.interessado=interessado;$scope.random=(new Date).getTime();$scope.salvar=function(){InteressadoService.Update($scope.interessado).then(function(){$location.path("/Interessado")},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})}}]).controller("InteressadoCreateControl",["$scope","InteressadoService","$location",function($scope,InteressadoService,$location){$scope.interessado={};$scope.salvar=function(){InteressadoService.Create($scope.interessado).then(function(){$location.path("/Interessado")},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})}}]);angular.module("app").controller("EventoControl",["$scope","EventoService","eventos","loadingDialod","ngDialog",function($scope,EventoService,eventos,loadingDialod,ngDialog){var itensPorPagina=10,i;for($scope.eventos=eventos,i=0;i<$scope.eventos.length;i++)$scope.eventos[i].start instanceof Date||($scope.eventos[i].start=new Date($scope.eventos[i].start)),$scope.eventos[i].end instanceof Date||($scope.eventos[i].end=new Date($scope.eventos[i].end));loadingDialod.close();$scope.totalItems=EventoService.totalItems;$scope.currentPage=1;$scope.pageChanged=function(){EventoService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(eventos){$scope.eventos=eventos;for(var i=0;i<$scope.eventos.length;i++)$scope.eventos[i].start instanceof Date||($scope.eventos[i].start=new Date($scope.eventos[i].start)),$scope.eventos[i].end instanceof Date||($scope.eventos[i].end=new Date($scope.eventos[i].end));$scope.totalItems=EventoService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(evento){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este evento?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){EventoService.Delete(evento).then(function(){var index=$scope.eventos.indexOf(evento);$scope.eventos.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("EventoUpdateControl",["$scope","EventoService","evento","loadingDialod","$location","VoluntarioService","InteressadoService",function($scope,EventoService,evento,loadingDialod,$location,VoluntarioService,InteressadoService){loadingDialod.close();$scope.evento=evento;$scope.evento.voluntarios==null&&($scope.evento.voluntarios=[]);$scope.evento.interessados==null&&($scope.evento.interessados=[]);$scope.random=(new Date).getTime();$scope.evento.start instanceof Date||($scope.evento.start=new Date($scope.evento.start));$scope.evento.end instanceof Date||($scope.evento.end=new Date($scope.evento.end));$scope.options={required:!0,format:"hex",hue:!0,alpha:!1,swatchOnly:!0,"case":"upper",disabled:!1};$scope.salvar=function(){EventoService.Update($scope.evento).then(function(){$location.path("/Evento")},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})};$scope.getVoluntarios=function(val){return VoluntarioService.Read(null,0,10,val).then(function(voluntarios){return voluntarios},function(){})};$scope.getInteressados=function(val){return InteressadoService.Read(null,0,10,val).then(function(interessados){return interessados},function(){})};$scope.addVoluntario=function($item){var v=$scope.voluntarioSelected,i;for($scope.voluntarioSelected=null,i=0;i<$scope.evento.voluntarios.length;i++)if($scope.evento.voluntarios[i].id==$item.id)return;$scope.evento.voluntarios.push(v)};$scope.addInteressado=function($item){var v=$scope.interessadoSelected,i;for($scope.interessadoSelected=null,i=0;i<$scope.evento.interessados.length;i++)if($scope.evento.interessados[i].id==$item.id)return;$scope.evento.interessados.push(v)};$scope.removerVoluntario=function(voluntario){var index=$scope.evento.voluntarios.indexOf(voluntario);$scope.evento.voluntarios.splice(index,1)};$scope.removerInteressado=function(interessado){var index=$scope.evento.interessados.indexOf(interessado);$scope.evento.interessados.splice(index,1)}}]).controller("EventoCreateControl",["$scope","EventoService","$location",function($scope,EventoService,$location){$scope.evento={valorDeEntrada:0,valorArrecadado:0,color:"#1A82C7",textColor:"#FFFFFF"};$scope.options={required:!0,format:"hex",hue:!0,alpha:!1,swatchOnly:!0,"case":"upper",disabled:!1};$scope.salvar=function(){EventoService.Create($scope.evento).then(function(evento){$location.path("/Evento/Editar/"+evento.id)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})}}]);angular.module("app").controller("FavorecidoControl",["$scope","FavorecidoService","favorecidos","loadingDialod","ngDialog",function($scope,FavorecidoService,favorecidos,loadingDialod,ngDialog){var itensPorPagina=10,i;for($scope.favorecidos=favorecidos,i=0;i<$scope.favorecidos.length;i++)$scope.favorecidos[i].dataNascimento instanceof Date||($scope.favorecidos[i].dataNascimento=new Date($scope.favorecidos[i].dataNascimento)),$scope.favorecidos[i].dataDeCadastro instanceof Date||($scope.favorecidos[i].dataDeCadastro=new Date($scope.favorecidos[i].dataDeCadastro));loadingDialod.close();$scope.totalItems=FavorecidoService.totalItems;$scope.currentPage=1;$scope.pageChanged=function(){FavorecidoService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(favorecidos){$scope.favorecidos=favorecidos;for(var i=0;i<$scope.favorecidos.length;i++)$scope.favorecidos[i].dataNascimento instanceof Date||($scope.favorecidos[i].dataNascimento=new Date($scope.favorecidos[i].dataNascimento)),$scope.favorecidos[i].dataDeCadastro instanceof Date||($scope.favorecidos[i].dataDeCadastro=new Date($scope.favorecidos[i].dataDeCadastro));$scope.totalItems=FavorecidoService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(favorecido){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Favorecido?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){FavorecidoService.Delete(favorecido).then(function(){var index=$scope.favorecidos.indexOf(favorecido);$scope.favorecidos.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("FavorecidoUpdateControl",["$scope","FavorecidoService","favorecido","loadingDialod","$location","CepService",function($scope,FavorecidoService,favorecido,loadingDialod,$location,CepService){loadingDialod.close();$scope.favorecido=favorecido;$scope.random=(new Date).getTime();$scope.ufs=ufs;$scope.favorecido.dataNascimento instanceof Date||($scope.favorecido.dataNascimento=new Date($scope.favorecido.dataNascimento));$scope.favorecido.dataDeCadastro instanceof Date||($scope.favorecido.dataDeCadastro=new Date($scope.favorecido.dataDeCadastro));$scope.salvar=function(){FavorecidoService.Update($scope.favorecido).then(function(){$location.path("/Favorecido")},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})};$scope.buscaCep=function(){$scope.favorecido.cep&&CepService.Pesquisa($scope.favorecido.cep).then(function(endereco){endereco.estado&&($scope.favorecido.estado=endereco.estado);endereco.bairro&&($scope.favorecido.bairro=endereco.bairro);endereco.cidade&&($scope.favorecido.cidade=endereco.cidade);endereco.logradouro&&($scope.favorecido.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("FavorecidoCreateControl",["$scope","FavorecidoService","$location","CepService",function($scope,FavorecidoService,$location,CepService){$scope.favorecido={};$scope.ufs=ufs;$scope.salvar=function(){FavorecidoService.Create($scope.favorecido).then(function(){$location.path("/Favorecido")},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})};$scope.buscaCep=function(){$scope.favorecido.cep&&CepService.Pesquisa($scope.favorecido.cep).then(function(endereco){endereco.estado&&($scope.favorecido.estado=endereco.estado);endereco.bairro&&($scope.favorecido.bairro=endereco.bairro);endereco.cidade&&($scope.favorecido.cidade=endereco.cidade);endereco.logradouro&&($scope.favorecido.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]);angular.module("app").controller("InformativoControl",["$scope","InformativoService","UsuarioService","VoluntarioService","DoadorService","informativo","loadingDialod","ngDialog","$route",function($scope,InformativoService,UsuarioService,VoluntarioService,DoadorService,informativo,loadingDialod,ngDialog,$route){loadingDialod.close();$scope.informativo=informativo;$scope.progress=0;$scope.loadUsuarios=function(query){return UsuarioService.Read(null,0,5,query)};$scope.loadVoluntarios=function(query){return VoluntarioService.Read(null,0,5,query)};$scope.loadDoadoresFisicos=function(query){return DoadorService.Read(null,0,5,"PF",query)};$scope.loadDoadoresJuridicos=function(query){return DoadorService.Read(null,0,5,"PJ",query)};$scope.uploadFiles=function(file){InformativoService.Attach($scope.informativo,file).then(function(){},function(){},function(progresso){$scope.progresso=progresso})};$scope.enviar=function(){InformativoService.Update($scope.informativo).then(function(){InformativoService.Send($scope.informativo).then(function(){},function(){})},function(){})};$scope.delete=function(){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Informativo?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){InformativoService.Delete($scope.informativo).then(function(){$route.reload()},function(){})},function(){})}}]);
//# sourceMappingURL=site.min.js.map