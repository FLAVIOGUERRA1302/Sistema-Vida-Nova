var app=angular.module("app",["ngRoute","ngAnimate","ngFileUpload","ngDialog","ui.bootstrap","color.picker","ui.utils.masks","idf.br-filters","ngTagsInput","textAngular","angular-echarts","angular-echarts.theme","validation.match"]).config(function($routeProvider,$locationProvider){$routeProvider.when("/",{templateUrl:"/templates/Dashboard.html"}).when("/Usuario",{templateUrl:"/templates/Usuario/List.html",controller:"UsuarioControl",resolve:{usuarios:function(AccountService){return AccountService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Usuario/Criar",{templateUrl:"/templates/Usuario/Create.html",controller:"UsuarioCreateControl"}).when("/Usuario/Editar/:id",{templateUrl:"/templates/Usuario/Update.html",controller:"UsuarioUpdateControl",resolve:{usuario:function(AccountService,$route){return AccountService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Usuario/Visualizar/:id",{templateUrl:"/templates/Usuario/Detalhe.html",controller:"UsuarioUpdateControl",resolve:{usuario:function(AccountService,$route){return AccountService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Voluntario",{templateUrl:"/templates/Voluntario/List.html",controller:"VoluntarioControl",resolve:{voluntarios:function(VoluntarioService){return VoluntarioService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Voluntario/Criar",{templateUrl:"/templates/Voluntario/Create.html",controller:"VoluntarioCreateControl"}).when("/Voluntario/Editar/:id",{templateUrl:"/templates/Voluntario/Update.html",controller:"VoluntarioUpdateControl",resolve:{voluntario:function(VoluntarioService,$route){return VoluntarioService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Voluntario/Curso/:id",{templateUrl:"/templates/Voluntario/Curso.html",controller:"VoluntarioUpdateControl",resolve:{voluntario:function(VoluntarioService,$route){return VoluntarioService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Voluntario/Visualizar/:id",{templateUrl:"/templates/Voluntario/Detalhe.html",controller:"VoluntarioUpdateControl",resolve:{voluntario:function(VoluntarioService,$route){return VoluntarioService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Voluntario/Disponivel/:diaDaSemana",{templateUrl:"/templates/Voluntario/Disponivel.html",controller:"VoluntarioDisponivelControl",resolve:{voluntarios:function(VoluntarioService,$route){return VoluntarioService.Read(null,0,10,null,$route.current.params.diaDaSemana)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})},diaDaSemana:function($route){return $route.current.params.diaDaSemana}}}).when("/Interessado",{templateUrl:"/templates/Interessado/List.html",controller:"InteressadoControl",resolve:{interessados:function(InteressadoService){return InteressadoService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Interessado/Criar",{templateUrl:"/templates/Interessado/Create.html",controller:"InteressadoCreateControl"}).when("/Interessado/Editar/:id",{templateUrl:"/templates/Interessado/Update.html",controller:"InteressadoUpdateControl",resolve:{interessado:function(InteressadoService,$route){return InteressadoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Interessado/Visualizar/:id",{templateUrl:"/templates/Interessado/Detalhe.html",controller:"InteressadoUpdateControl",resolve:{interessado:function(InteressadoService,$route){return InteressadoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Evento",{templateUrl:"/templates/Evento/List.html",controller:"EventoControl",resolve:{eventos:function(EventoService){return EventoService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Evento/Criar",{templateUrl:"/templates/Evento/Create.html",controller:"EventoCreateControl"}).when("/Evento/Calendario",{templateUrl:"/templates/Evento/Calendario.html"}).when("/Evento/Editar/:id",{templateUrl:"/templates/Evento/Update.html",controller:"EventoUpdateControl",resolve:{evento:function(EventoService,$route){return EventoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Evento/Visualizar/:id",{templateUrl:"/templates/Evento/Detalhe.html",controller:"EventoUpdateControl",resolve:{evento:function(EventoService,$route){return EventoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doador",{templateUrl:"/templates/Doador/List.html",controller:"DoadorControl",resolve:{doadores:function(DoadorService){return DoadorService.Read(null,0,10,"PF")},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doador/Criar/PF",{templateUrl:"/templates/Doador/CreatePf.html",controller:"DoadorCreateControl",resolve:{doador:function(){return{tipo:"PF"}}}}).when("/Doador/Criar/PJ",{templateUrl:"/templates/Doador/CreatePj.html",controller:"DoadorCreateControl",resolve:{doador:function(){return{tipo:"PJ"}}}}).when("/Doador/Editar/:id",{templateUrl:"/templates/Doador/Update.html",controller:"DoadorUpdateControl",resolve:{doador:function(DoadorService,$route){return DoadorService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doador/Visualizar/:id",{templateUrl:"/templates/Doador/Detalhe.html",controller:"DoadorUpdateControl",resolve:{doador:function(DoadorService,$route){return DoadorService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doador/RelatorioPorEmail/:id",{templateUrl:"/templates/Doador/RelatorioDoacoesEmail.html",controller:"DoadorRelatorioControl",resolve:{doador:function(DoadorService,$route){return DoadorService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Favorecido",{templateUrl:"/templates/Favorecido/List.html",controller:"FavorecidoControl",resolve:{favorecidos:function(FavorecidoService){return FavorecidoService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Favorecido/Criar",{templateUrl:"/templates/Favorecido/Create.html",controller:"FavorecidoCreateControl"}).when("/Favorecido/Editar/:id",{templateUrl:"/templates/Favorecido/Update.html",controller:"FavorecidoUpdateControl",resolve:{favorecido:function(FavorecidoService,$route){return FavorecidoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Favorecido/Visualizar/:id",{templateUrl:"/templates/Favorecido/Detalhe.html",controller:"FavorecidoUpdateControl",resolve:{favorecido:function(FavorecidoService,$route){return FavorecidoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Informativo",{templateUrl:"/templates/Informativo/Create.html",controller:"InformativoControl",resolve:{informativo:function(InformativoService){return InformativoService.Read()},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Item",{templateUrl:"/templates/Item/List.html",controller:"ItemControl",resolve:{itens:function(ItemService){return ItemService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Item/Criar",{templateUrl:"/templates/Item/Create.html",controller:"ItemCreateControl"}).when("/Item/Editar/:id",{templateUrl:"/templates/Item/Update.html",controller:"ItemUpdateControl",resolve:{item:function(ItemService,$route){return ItemService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Item/Visualizar/:id",{templateUrl:"/templates/Item/Detalhe.html",controller:"ItemUpdateControl",resolve:{item:function(ItemService,$route){return ItemService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Despesa",{templateUrl:"/templates/Despesa/List.html",controller:"DespesaControl",resolve:{despesas:function(DespesaService){return DespesaService.Read(null,0,10,"ASSOCIACAO")},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Despesa/Associacao/Criar",{templateUrl:"/templates/Despesa/Create.html",controller:"DespesaCreateControl",resolve:{despesa:function(){return{tipo:"ASSOCIACAO"}}}}).when("/Despesa/Sopa/Criar",{templateUrl:"/templates/Despesa/Create.html",controller:"DespesaCreateControl",resolve:{despesa:function(){return{tipo:"SOPA"}}}}).when("/Despesa/Favorecido/Criar",{templateUrl:"/templates/Despesa/Create.html",controller:"DespesaCreateControl",resolve:{despesa:function(){return{tipo:"FAVORECIDO"}}}}).when("/Despesa/Editar/:id",{templateUrl:"/templates/Despesa/Update.html",controller:"DespesaUpdateControl",resolve:{despesa:function(DespesaService,$route){return DespesaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Despesa/Visualizar/:id",{templateUrl:"/templates/Despesa/Detalhe.html",controller:"DespesaUpdateControl",resolve:{despesa:function(DespesaService,$route){return DespesaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Despesa/RelatorioAssociacao/:start/:end",{templateUrl:"/templates/Despesa/RelatorioAssociacao.html",controller:"DespesaRelatorioControl",resolve:{dados:function(DespesaService,$route){return DespesaService.Relatorio($route.current.params.start,$route.current.params.end,"ASSOCIACAO")},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Despesa/RelatorioFavorecido/:start/:end",{templateUrl:"/templates/Despesa/RelatorioFavorecido.html",controller:"DespesaRelatorioControl",resolve:{dados:function(DespesaService,$route){return DespesaService.Relatorio($route.current.params.start,$route.current.params.end,"FAVORECIDO")},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Despesa/RelatorioSopa/:start/:end",{templateUrl:"/templates/Despesa/RelatorioSopa.html",controller:"DespesaRelatorioControl",resolve:{dados:function(DespesaService,$route){return DespesaService.Relatorio($route.current.params.start,$route.current.params.end,"SOPA")},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao",{templateUrl:"/templates/Doacao/List.html",controller:"DoacaoControl",resolve:{doacoes:function(DoacaoDinheiroService){return DoacaoDinheiroService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/Dinheiro/Criar",{templateUrl:"/templates/Doacao/CreateDinheiro.html",controller:"DoacaoCreateDinheiroControl"}).when("/Doacao/Objeto/Criar",{templateUrl:"/templates/Doacao/CreateObjeto.html",controller:"DoacaoCreateObjetoControl"}).when("/Doacao/Sopa/Criar",{templateUrl:"/templates/Doacao/CreateSopa.html",controller:"DoacaoCreateSopaControl"}).when("/Doacao/Dinheiro/Editar/:id",{templateUrl:"/templates/Doacao/UpdateDinheiro.html",controller:"DoacaoUpdateDinheiroControl",resolve:{doacao:function(DoacaoDinheiroService,$route){return DoacaoDinheiroService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/Objeto/Editar/:id",{templateUrl:"/templates/Doacao/UpdateObjeto.html",controller:"DoacaoUpdateObjetoControl",resolve:{doacao:function(DoacaoObjetoService,$route){return DoacaoObjetoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/Sopa/Editar/:id",{templateUrl:"/templates/Doacao/UpdateSopa.html",controller:"DoacaoUpdateSopaControl",resolve:{doacao:function(DoacaoSopaService,$route){return DoacaoSopaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/Dinheiro/Visualizar/:id",{templateUrl:"/templates/Doacao/DetalheDinheiro.html",controller:"DoacaoUpdateDinheiroControl",resolve:{doacao:function(DoacaoDinheiroService,$route){return DoacaoDinheiroService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/Objeto/Visualizar/:id",{templateUrl:"/templates/Doacao/DetalheObjeto.html",controller:"DoacaoUpdateObjetoControl",resolve:{doacao:function(DoacaoObjetoService,$route){return DoacaoObjetoService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/Sopa/Visualizar/:id",{templateUrl:"/templates/Doacao/DetalheSopa.html",controller:"DoacaoUpdateSopaControl",resolve:{doacao:function(DoacaoSopaService,$route){return DoacaoSopaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/RelatorioDinheiro/:start/:end",{templateUrl:"/templates/Doacao/RelatorioDinheiro.html",controller:"DoacaoDinheiroRelatorioControl",resolve:{dados:function(DoacaoDinheiroService,$route){return DoacaoDinheiroService.Relatorio($route.current.params.start,$route.current.params.end)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/ModeloDeDistribuicao",{templateUrl:"/templates/ModeloDeReceita/List.html",controller:"ModeloDeReceitaControl",resolve:{modelos:function(ModeloDeReceitaService){return ModeloDeReceitaService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/ModeloDeReceita/Criar",{templateUrl:"/templates/ModeloDeReceita/Create.html",controller:"ModeloDeReceitaCreateControl"}).when("/ModeloDeReceita/Editar/:id",{templateUrl:"/templates/ModeloDeReceita/Update.html",controller:"ModeloDeReceitaUpdateControl",resolve:{modelo:function(ModeloDeReceitaService,$route){return ModeloDeReceitaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/ModeloDeReceita/Visualizar/:id",{templateUrl:"/templates/ModeloDeReceita/Detalhe.html",controller:"ModeloDeReceitaUpdateControl",resolve:{modelo:function(ModeloDeReceitaService,$route){return ModeloDeReceitaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/ResultadoSopa",{templateUrl:"/templates/ResultadoSopa/List.html",controller:"ResultadoSopaControl",resolve:{resultados:function(ResultadoSopaService){return ResultadoSopaService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/ResultadoSopa/Criar",{templateUrl:"/templates/ResultadoSopa/Create.html",controller:"ResultadoSopaCreateControl"}).when("/ResultadoSopa/Editar/:id",{templateUrl:"/templates/ResultadoSopa/Update.html",controller:"ResultadoSopaUpdateControl",resolve:{resultado:function(ResultadoSopaService,$route){return ResultadoSopaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/ResultadoSopa/Visualizar/:id",{templateUrl:"/templates/ResultadoSopa/Detalhe.html",controller:"ResultadoSopaUpdateControl",resolve:{resultado:function(ResultadoSopaService,$route){return ResultadoSopaService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Estoque",{templateUrl:"/templates/Estoque/List.html",controller:"EstoqueControl",resolve:{itens:function(EstoqueService){return EstoqueService.Read(null,0,10)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Estoque/Ajustar/:id",{templateUrl:"/templates/Estoque/Update.html",controller:"EstoqueUpdateControl",resolve:{item:function(EstoqueService,$route){return EstoqueService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Estoque/Visualizar/:id",{templateUrl:"/templates/Estoque/Detalhe.html",controller:"EstoqueUpdateControl",resolve:{item:function(EstoqueService,$route){return EstoqueService.Read($route.current.params.id)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Planejamento",{templateUrl:"/templates/Planejamento/Planejamento.html",controller:"PlanejamentoControl"}).when("/ResultadosGerais",{templateUrl:"/templates/ResultadosGerais/Relatorio.html",controller:"ResultadosGeraisControl"}).when("/ResultadosGerais/Beneficios/:start/:end",{templateUrl:"/templates/ResultadosGerais/RelatorioPdfBeneficios.html",controller:"ResultadosGeraisRelatorioControl",resolve:{dados:function(ResultadosGeraisService,$route){return ResultadosGeraisService.Read(Date.parseExact($route.current.params.start,"dd-MM-yyyy"),Date.parseExact($route.current.params.end,"dd-MM-yyyy"))},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/ResultadosGerais/Balanco/:start/:end",{templateUrl:"/templates/ResultadosGerais/RelatorioPdfBalanco.html",controller:"ResultadosGeraisRelatorioControl",resolve:{dados:function(ResultadosGeraisService,$route){return ResultadosGeraisService.Read(Date.parseExact($route.current.params.start,"dd-MM-yyyy"),Date.parseExact($route.current.params.end,"dd-MM-yyyy"))},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/Doacao/RelatorioDinheiro/:start/:end",{templateUrl:"/templates/Doacao/RelatorioDinheiro.html",controller:"DoacaoDinheiroRelatorioControl",resolve:{dados:function(DoacaoDinheiroService,$route){return DoacaoDinheiroService.Relatorio($route.current.params.start,$route.current.params.end)},loadingDialod:function(ngDialog){return ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"})}}}).when("/EventosMaisProcurados",{templateUrl:"/templates/Ranking/EventosMaisProcurados.html",controller:"EventosMaisProcuradosControl"}).when("/MelhoresDoadores",{templateUrl:"/templates/Ranking/MelhoresDoadores.html",controller:"MelhoresDoadoresControl"}).when("/FavorecidoMaisBeneficiados",{templateUrl:"/templates/Ranking/FavorecidoMaisBeneficiados.html",controller:"FavorecidoMaisBeneficiadosControl"});$locationProvider.html5Mode(!0)});angular.module("ngLocale",[],["$provide",function($provide){var PLURAL_CATEGORY={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};$provide.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domingo","segunda-feira","ter\u00e7a-feira","quarta-feira","quinta-feira","sexta-feira","s\u00e1bado"],ERANAMES:["antes de Cristo","depois de Cristo"],ERAS:["a.C.","d.C."],FIRSTDAYOFWEEK:6,MONTH:["janeiro","fevereiro","mar\u00e7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],SHORTDAY:["dom","seg","ter","qua","qui","sex","s\u00e1b"],SHORTMONTH:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],STANDALONEMONTH:["janeiro","fevereiro","mar\u00e7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],WEEKENDRANGE:[5,6],fullDate:"EEEE, d 'de' MMMM 'de' y",longDate:"d 'de' MMMM 'de' y",medium:"d 'de' MMM 'de' y HH:mm:ss",mediumDate:"d 'de' MMM 'de' y",mediumTime:"HH:mm:ss",short:"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"R$",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"pt-br",localeID:"pt_BR",pluralCat:function(n){return n>=0&&n<=2&&n!==2?PLURAL_CATEGORY.ONE:PLURAL_CATEGORY.OTHER}})}]);var ufs={AC:"Acre",AL:"Alagoas",AP:"Amap\u00e1",AM:"Amazonas",BA:"Bahia",CE:"Cear\u00e1",DF:"Distrito Federal",ES:"Esp\u00edrito Santo",GO:"Goi\u00e1s",MA:"Maranh\u00e3o",MT:"Mato Grosso",MS:"Mato Grosso do Sul",MG:"Minas Gerais",PA:"Par\u00e1",PB:"Para\u00edba",PR:"Paran\u00e1",PE:"Pernambuco",PI:"Piau\u00ed",RJ:"Rio de Janeiro",RN:"Rio Grande do Norte",RS:"Rio Grande do Sul",RO:"Rond\u00f4nia",RR:"Roraima",SC:"Santa Catarina",SP:"S\u00e3o Paulo",SE:"Sergipe",TO:"Tocantins"},unidadesDeMedida={AMPOLA:"Ampola",BALDE:"Balde",BANDEJ:"Bandeja",BARRA:"Barra",BISNAG:"Bisnaga",BLOCO:"Bloco",BOBINA:"Bobina",BOMB:"Bombona",CAPS:"Capsula",CART:"Cartela",CENTO:"Cento",CJ:"Conjunto",CM:"Centimetro",CM2:"Centimetro Quadrado",CX:"Caixa",DISP:"Display",DUZIA:"Duzia",EMBAL:"Embalagem",FARDO:"Fardo",FOLHA:"Folha",FRASCO:"Frasco",GALAO:"Gal\u00e3o",GF:"Garrafa",GRAMAS:"Gramas",JOGO:"Jogo",KG:"Quilograma",KIT:"Kit",LATA:"Lata",LITRO:"Litro",M:"Metro",M2:"Metro Quadrado",M3:"Metro C\u00fabico",MILHEI:"Milheiro",ML:"Mililitro",MWH:"Megawatt Hora",PACOTE:"Pacote",PALETE:"Palete",PARES:"Pares",PC:"Pe\u00e7a",POTE:"Pote",K:"Quilate",RESMA:"Resma",ROLO:"Rolo",SACO:"Saco",SACOLA:"Sacola",TAMBOR:"Tambor",TANQUE:"Tanque",TON:"Tonelada",TUBO:"Tubo",UNID:"Unidade",VASIL:"Vasilhame",VIDRO:"Vidro"},destinos={ASSOCIACAO:"Associa\u00e7\u00e3o",FAVORECIDO:"Favorecido",SOPA:"Sopa"};Date.prototype.toISOString=function(){return this.toString("yyyy-MM-ddTHH:mm:ss")};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLocaleLowerCase()};app=angular.module("app");app.factory("VoluntarioService",["$http","$q","Upload","$window",function($http,$q,Upload,$window){var s={};return s.Create=function(voluntario){var deferred=$q.defer(),req={method:"POST",url:"/api/Voluntario",headers:{"Content-Type":"application/json"},data:JSON.stringify(voluntario),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro,diaDaSemana){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Voluntario/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),diaDaSemana!==null&&diaDaSemana!==undefined&&diaDaSemana!==""&&(req.params.diaDaSemana=diaDaSemana),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.ReadMotorista=function(skip,take,filtro){var deferred=$q.defer(),req={method:"GET",url:"/api/Voluntario/",headers:{"Content-Type":"application/json"},dataType:"json"};return skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),req.params.funcao="MOTORISTA",$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.ReadCursoAtrasado=function(){var deferred=$q.defer(),req={method:"GET",url:"/api/Voluntario/",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={semCurso:!0,skip:0,take:5},$http(req).then(function(response){s.totalItemsAtrasado=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(voluntario){var deferred=$q.defer(),req={method:"PUT",url:"/api/Voluntario/"+voluntario.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(voluntario),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(voluntario){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Voluntario/"+voluntario.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.Upload=function(voluntario,foto){var deferred=$q.defer();return Upload.upload({url:"/api/Voluntario/"+voluntario.id,data:{file:foto}}).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)},function(evt){deferred.notify(Math.min(100,parseInt(100*evt.loaded/evt.total)))}),deferred.promise},s.toExcel=function(filtro,diaDaSemana){var param="?",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(param+="filtro="+filtro);diaDaSemana!==null&&diaDaSemana!==undefined&&diaDaSemana!==""&&(param+=(param=="?"?"":"&")+"diaDaSemana="+diaDaSemana);param=param=="?"?"":param;url=encodeURI("/api/Voluntario/excel"+param);$window.open(url)},s}]);app.factory("InteressadoService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(interessado){var deferred=$q.defer(),req={method:"POST",url:"/api/Interessado",headers:{"Content-Type":"application/json"},data:JSON.stringify(interessado),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Interessado/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(interessado){var deferred=$q.defer(),req={method:"PUT",url:"/api/Interessado/"+interessado.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(interessado),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(interessado){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Interessado/"+interessado.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/Interessado/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s}]);app.factory("EventoService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(evento){var deferred=$q.defer(),req={method:"POST",url:"/api/Evento",headers:{"Content-Type":"application/json"},data:JSON.stringify(evento),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Evento/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(evento){var deferred=$q.defer(),req={method:"PUT",url:"/api/Evento/"+evento.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(evento),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(evento){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Evento/"+evento.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/Evento/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s}]);app.factory("DoadorService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(doador){var deferred=$q.defer(),req={method:"POST",url:"/api/Doador",headers:{"Content-Type":"application/json"},data:JSON.stringify(doador),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,tipo,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Doador/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),tipo!==null&&tipo!==undefined&&tipo!==""&&(req.params.tipo=tipo),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(doador){var deferred=$q.defer(),req={method:"PUT",url:"/api/Doador/"+doador.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(doador),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(doador){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Doador/"+doador.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(tipo,filtro){var turl="/api/Doador/excel?tipo="+tipo,url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="&filtro="+filtro);url=encodeURI(turl);$window.open(url)},s.EnviarRelatorioEmail=function(id,start,end){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Doador/EnviarRelatorioEmail/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={start:start,end:end},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("FavorecidoService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(favorecido){var deferred=$q.defer(),req={method:"POST",url:"/api/Favorecido",headers:{"Content-Type":"application/json"},data:JSON.stringify(favorecido),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Favorecido/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(favorecido){var deferred=$q.defer(),req={method:"PUT",url:"/api/Favorecido/"+favorecido.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(favorecido),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(favorecido){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Favorecido/"+favorecido.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/Favorecido/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s}]);app.factory("CepService",["$http","$q",function($http,$q){var s={};return s.Pesquisa=function(cep){var deferred=$q.defer(),req={method:"GET",url:"http://api.postmon.com.br/v1/cep/"+cep,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("UsuarioService",["$http","$q","$window",function($http,$q){var s={};return s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Usuario/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("ChartService",["$http","$q",function($http,$q){var s={};return s.Read=function(id,params){var deferred=$q.defer(),req={method:"GET",url:"/api/Chart/"+id,headers:{"Content-Type":"application/json"},dataType:"json"};return params!=undefined&&params!=null&&(req.params=params),$http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("InformativoService",["$http","$q","Upload",function($http,$q,Upload){var s={};return s.Read=function(){var deferred=$q.defer();return $http({method:"GET",url:"/api/Informativo/",headers:{"Content-Type":"application/json"},dataType:"json"}).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(informativo){var deferred=$q.defer(),req={method:"PUT",url:"/api/Informativo/"+informativo.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(informativo),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Send=function(informativo){var deferred=$q.defer(),req={method:"POST",url:"/api/Informativo/Send/"+informativo.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(informativo){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Informativo/"+informativo.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.Attach=function(informativo,files){var deferred=$q.defer();return Upload.upload({url:"/api/Informativo/Attach/"+informativo.id,data:{files:files}}).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)},function(evt){deferred.notify(Math.min(100,parseInt(100*evt.loaded/evt.total)))}),deferred.promise},s.Detach=function(informativo,attachment){var deferred=$q.defer(),req={method:"POST",url:"/api/Informativo/Detach/"+informativo.id+"/"+attachment.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("DespesaService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(despesa){var deferred=$q.defer(),req={method:"POST",url:"/api/Despesa",headers:{"Content-Type":"application/json"},data:JSON.stringify(despesa),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,tipo,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Despesa/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),tipo!==null&&tipo!==undefined&&tipo!==""&&(req.params.tipo=tipo),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(despesa){var deferred=$q.defer(),req={method:"PUT",url:"/api/Despesa/"+despesa.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(despesa),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(despesa){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Despesa/"+despesa.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(tipo,filtro){var turl="/api/Despesa/excel?tipo="+tipo,url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="&filtro="+filtro);url=encodeURI(turl);$window.open(url)},s.Relatorio=function(start,end,tipo){var deferred=$q.defer(),req={method:"GET",url:"/api/Despesa/Relatorio",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={start:Date.parseExact(start,"dd-MM-yyyy"),end:Date.parseExact(end,"dd-MM-yyyy"),tipo:tipo},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("ItemService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(item){var deferred=$q.defer(),req={method:"POST",url:"/api/Item",headers:{"Content-Type":"application/json"},data:JSON.stringify(item),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro,destino){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Item/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),destino!==null&&destino!==undefined&&destino!==""&&(req.params.destino=destino),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(item){var deferred=$q.defer(),req={method:"PUT",url:"/api/Item/"+item.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(item),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(item){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Item/"+item.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro,destino){var query="?",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(query+="filtro="+filtro);destino!==null&&destino!==undefined&&destino!==""&&(query+=(query=="?"?"":"&")+"destino="+destino);url=encodeURI("/api/Item/excel"+query);$window.open(url)},s}]);app.factory("DoacaoDinheiroService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(doacao){var deferred=$q.defer(),req={method:"POST",url:"/api/DoacaoDinheiro",headers:{"Content-Type":"application/json"},data:JSON.stringify(doacao),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/DoacaoDinheiro/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.ReadPeriodo=function(start,end,idDoador){var deferred=$q.defer(),req={method:"GET",url:"/api/DoacaoDinheiro/",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={start:start,end:end,idDoador:idDoador},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(doacao){var deferred=$q.defer(),req={method:"PUT",url:"/api/DoacaoDinheiro/"+doacao.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(doacao),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(doacao){var deferred=$q.defer(),req={method:"DELETE",url:"/api/DoacaoDinheiro/"+doacao.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/DoacaoDinheiro/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s.Relatorio=function(start,end){var deferred=$q.defer(),req={method:"GET",url:"/api/DoacaoDinheiro/Relatorio",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={start:Date.parseExact(start,"dd-MM-yyy"),end:Date.parseExact(end,"dd-MM-yyy")},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("DoacaoSopaService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(doacao){var deferred=$q.defer(),req={method:"POST",url:"/api/DoacaoSopa",headers:{"Content-Type":"application/json"},data:JSON.stringify(doacao),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/DoacaoSopa/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(doacao){var deferred=$q.defer(),req={method:"PUT",url:"/api/DoacaoSopa/"+doacao.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(doacao),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(doacao){var deferred=$q.defer(),req={method:"DELETE",url:"/api/DoacaoSopa/"+doacao.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/DoacaoSopa/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s}]);app.factory("DoacaoObjetoService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(doacao){var deferred=$q.defer(),req={method:"POST",url:"/api/DoacaoObjeto",headers:{"Content-Type":"application/json"},data:JSON.stringify(doacao),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/DoacaoObjeto/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(doacao){var deferred=$q.defer(),req={method:"PUT",url:"/api/DoacaoObjeto/"+doacao.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(doacao),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(doacao){var deferred=$q.defer(),req={method:"DELETE",url:"/api/DoacaoObjeto/"+doacao.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/DoacaoObjeto/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s}]);app.factory("ModeloDeReceitaService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(modelo){var deferred=$q.defer(),req={method:"POST",url:"/api/ModeloDeReceita",headers:{"Content-Type":"application/json"},data:JSON.stringify(modelo),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/ModeloDeReceita/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(modelo){var deferred=$q.defer(),req={method:"PUT",url:"/api/ModeloDeReceita/"+modelo.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(modelo),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(modelo){var deferred=$q.defer(),req={method:"DELETE",url:"/api/ModeloDeReceita/"+modelo.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/ModeloDeReceita/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s}]);app.factory("ResultadoSopaService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(resultado){var deferred=$q.defer(),req={method:"POST",url:"/api/ResultadoSopa",headers:{"Content-Type":"application/json"},data:JSON.stringify(resultado),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/ResultadoSopa/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(resultado){var deferred=$q.defer(),req={method:"PUT",url:"/api/ResultadoSopa/"+resultado.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(resultado),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(resultado){var deferred=$q.defer(),req={method:"DELETE",url:"/api/ResultadoSopa/"+resultado.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro){var turl="/api/ResultadoSopa/excel",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(turl+="?filtro="+filtro);url=encodeURI(turl);$window.open(url)},s}]);app.factory("EstoqueService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Read=function(id,skip,take,filtro,somenteNegativos){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Estoque/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),somenteNegativos!==null&&somenteNegativos!==undefined&&somenteNegativos!==""&&(req.params.somenteNegativos=somenteNegativos),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(item){var deferred=$q.defer(),req={method:"PUT",url:"/api/Estoque/"+item.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(item),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro,somenteNegativos){var qp="?",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(qp+="filtro="+filtro);somenteNegativos!==null&&somenteNegativos!==undefined&&somenteNegativos!==""&&(qp+=(qp=="?"?"":"&")+"somenteNegativos="+somenteNegativos);url=encodeURI("/api/Estoque/excel"+qp);$window.open(url)},s}]);app.factory("PlanejamentoService",["$http","$q","$window",function($http,$q){var s={};return s.Consulta=function(modelos){for(var deferred,req,m=[],i=0;i<modelos.length;i++)m.push({id:modelos[i].modelo.id,quantidade:modelos[i].quantidade});return deferred=$q.defer(),req={method:"POST",url:"/api/Planejamento",headers:{"Content-Type":"application/json"},data:JSON.stringify(m),dataType:"json"},$http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s}]);app.factory("AccountService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Create=function(user){var deferred=$q.defer(),req={method:"POST",url:"/api/Account",headers:{"Content-Type":"application/json"},data:JSON.stringify(user),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Read=function(id,skip,take,filtro,isAdmin,isAtivo){var deferred=$q.defer(),req;return(id===undefined||id===null)&&(id=""),req={method:"GET",url:"/api/Account/"+id,headers:{"Content-Type":"application/json"},dataType:"json"},req.params={},skip!==undefined&&take!==undefined&&(req.params={skip:skip,take:take}),filtro!==null&&filtro!==undefined&&filtro!==""&&(req.params.filtro=filtro),isAdmin!==null&&isAdmin!==undefined&&isAdmin!==""&&(req.params.isAdmin=isAdmin),isAtivo!==null&&isAtivo!==undefined&&isAtivo!==""&&(req.params.isAtivo=isAtivo),$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Update=function(user){var deferred=$q.defer(),req={method:"PUT",url:"/api/Account/"+user.id,headers:{"Content-Type":"application/json"},data:JSON.stringify(user),dataType:"json"};return $http(req).then(function(response){deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.Delete=function(user){var deferred=$q.defer(),req={method:"DELETE",url:"/api/Account/"+user.id,headers:{"Content-Type":"application/json"},dataType:"json"};return $http(req).then(function(){deferred.resolve("OK")},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(filtro,isAdmin,isAtivo){var param="?",url;filtro!==null&&filtro!==undefined&&filtro!==""&&(param+="filtro="+filtro);isAdmin!==null&&isAdmin!==undefined&&isAdmin!==""&&(param+=(param=="?"?"":"&")+"isAdmin="+isAdmin);isAtivo!==null&&isAtivo!==undefined&&isAtivo!==""&&(param+=(param=="?"?"":"&")+"isAtivo="+isAtivo);url=encodeURI("/api/Account/excel"+param);$window.open(url)},s}]);app.factory("ResultadosGeraisService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Read=function(start,end){var deferred=$q.defer(),req={method:"GET",url:"/api/ResultadosGerais/",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={start:start,end:end},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(start,end){var turl="/api/ResultadosGerais/excel?start="+start.toISOString()+"&end="+end.toISOString(),url=encodeURI(turl);$window.open(url)},s}]);app.factory("EventosMaisProcuradosService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Read=function(start,end){var deferred=$q.defer(),req={method:"GET",url:"/api/EventosMaisProcurados/",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={start:start,end:end},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));for(var i=0;i<response.data.length;i++)response.data[i].DataInicio=Date.parse(response.data[i].DataInicio),response.data[i].DataFim=Date.parse(response.data[i].DataFim);deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(start,end){var turl="/api/EventosMaisProcurados/excel?start="+start.toISOString()+"&end="+end.toISOString(),url=encodeURI(turl);$window.open(url)},s}]);app.factory("MelhoresDoadoresService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Read=function(start,end){var deferred=$q.defer(),req={method:"GET",url:"/api/MelhoresDoadores/",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={start:start,end:end},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(start,end){var turl="/api/MelhoresDoadores/excel?start="+start.toISOString()+"&end="+end.toISOString(),url=encodeURI(turl);$window.open(url)},s}]);app.factory("FavorecidoMaisBeneficiadosService",["$http","$q","$window",function($http,$q,$window){var s={};return s.Read=function(start,end){var deferred=$q.defer(),req={method:"GET",url:"/api/FavorecidosComMaisGasto/",headers:{"Content-Type":"application/json"},dataType:"json"};return req.params={start:start,end:end},$http(req).then(function(response){s.totalItems=parseInt(response.headers("totalItems"));deferred.resolve(response.data)},function(response){deferred.reject(response.data)}),deferred.promise},s.toExcel=function(start,end){var turl="/api/FavorecidosComMaisGasto/excel?start="+start.toISOString()+"&end="+end.toISOString(),url=encodeURI(turl);$window.open(url)},s}]);app=angular.module("app");app.directive("calendar",function(){return{restrict:"A",scope:{editable:"=?",events:"=?"},link:function(scope,element){element.fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,listMonth"},locale:"pt-br",navLinks:!0,businessHours:!0,editable:scope.editable,events:scope.events,eventClick:function(calEvent){window.location.href=calEvent.tipo=="DOACAO"?"/Doacao/Objeto/Visualizar/"+calEvent.id:"/Evento/Visualizar/"+calEvent.id}})}}});app.directive("listaErro",function(){return{restrict:"E",scope:{lista:"=?"},template:'<div><p class="text-red" ng-repeat="erro in lista">{{erro}}<\/p><\/div>',link:function(){}}});app.directive("goBack",["$window",function($window){return{restrict:"A",link:function(scope,element){element.on("click",function(){$window.history.back()})}}}]);app.directive("echart",["theme","$timeout",function(theme,$timeout){return{restrict:"EA",scope:{options:"=?",tema:"=?",events:"=?",api:"="},link:function(scope,element,attrs){function aplicarOptions(){if(scope.options){if(chart||(chart=echarts.init(element[0],theme.get(scope.tema||"macarons"))),scope.api&&(scope.api.chart=chart),chart.clear(),scope.events)for(var i=0;i<scope.events.length;i++)chart.on(scope.events[i].type,scope.events[i].fn);chart.setOption(scope.options);chart.resize();window.onresize=chart.resize}}var ndWrapper=element.find("div")[0],width,height,chart;scope.$watch("options",function(){$timeout(function(){aplicarOptions()},500)})}}}]);app.directive("htmlToPdf",function(){return{restrict:"A",scope:{nomeDoArquivo:"=?",orientacao:"=?"},controller:["$element","$scope",function($element,$scope){var ctrl=this,specialElementHandlers={"[ignore-to-pdf]":function(){return!0}};ctrl.gerar=function(){var tipo="p";$scope.orientacao=="landscape"&&(tipo="l");html2canvas($element,{onrendered:function(canvas){var imgData=canvas.toDataURL("image/png"),doc=new jsPDF(tipo,"mm");doc.addImage(imgData,"PNG",10,10);doc.save($scope.nomeDoArquivo+".pdf")}})}}],link:function(){}}});app.directive("gerarPdf",function(){return{restrict:"A",require:["^^htmlToPdf"],link:function(scope,element,attrs,ctrls){element.on("click",function(){ctrls[0].gerar()})}}});app.directive("gerarPdfAutomatico",["$timeout",function($timeout){return{restrict:"A",require:["^^htmlToPdf"],link:function(scope,element,attrs,ctrls){$timeout(function(){ctrls[0].gerar()},1e3)}}}]);app.directive("pdfA4",function(){return{restrict:"A",scope:{nomeDoArquivo:"=?"},controller:["$element","$scope",function($element,$scope){var ctrl=this;ctrl.gerar=function(){var content=$("<div>").width(750),parent=$element.parent(),toHide;content.appendTo(parent);$element.appendTo(content);toHide=$element.find(".fora-do-pfd");toHide.hide();html2canvas($element,{onrendered:function(canvas){$element.appendTo(parent);content.detach();toHide.show();var imgData=canvas.toDataURL("image/png"),doc=new jsPDF("p","mm");doc.addImage(imgData,"PNG",10,10);doc.save($scope.nomeDoArquivo+".pdf")}})}}],link:function(){}}});app.directive("pdfButton",function(){return{restrict:"A",require:["^^pdfA4"],link:function(scope,element,attrs,ctrls){element.on("click",function(){ctrls[0].gerar()})}}});angular.module("app").controller("HomeController",["$scope",function(){}]).controller("UserFotoController",["$scope",function(){}]).controller("UserController",["$scope",function($scope){$scope.teste="vai"}]);angular.module("app").controller("VoluntarioControl",["$scope","VoluntarioService","$uibModal","voluntarios","loadingDialod","ngDialog",function($scope,VoluntarioService,$uibModal,voluntarios,loadingDialod,ngDialog){loadingDialod.close();var itensPorPagina=10;$scope.voluntarios=voluntarios;$scope.valorPesquisa="";$scope.totalItems=VoluntarioService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){VoluntarioService.toExcel($scope.valorPesquisa)};$scope.pageChanged=function(){VoluntarioService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(voluntarios){$scope.voluntarios=voluntarios;$scope.totalItems=VoluntarioService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(voluntario){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Volunt\u00e1rio?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){VoluntarioService.Delete(voluntario).then(function(){var index=$scope.voluntarios.indexOf(voluntario);$scope.voluntarios.splice(index,1)},function(){ngDialog.open({template:"<h1>N\u00e3o \u00e9 poss\u00edvel apagar este volunt\u00e1rio<\/h1>",plain:!0})})},function(){})}}]).controller("VoluntarioUpdateControl",["$scope","VoluntarioService","voluntario","CepService","loadingDialod","$location","$rootScope",function($scope,VoluntarioService,voluntario,CepService,loadingDialod,$location,$rootScope){loadingDialod.close();$scope.voluntario=voluntario;$scope.random=(new Date).getTime();$scope.ufs=ufs;$scope.voluntario.dataNascimento instanceof Date||($scope.voluntario.dataNascimento=Date.parse($scope.voluntario.dataNascimento));$scope.voluntario.dataCurso instanceof Date||($scope.voluntario.dataCurso=Date.parse($scope.voluntario.dataCurso));$scope.voluntario.dataAgendamentoCurso instanceof Date||$scope.voluntario.dataAgendamentoCurso==null||($scope.voluntario.dataAgendamentoCurso=Date.parse($scope.voluntario.dataAgendamentoCurso));$scope.salvar=function(){VoluntarioService.Update($scope.voluntario).then(function(voluntario){$rootScope.$broadcast("voluntario.update",voluntario);$location.path("/Voluntario")},function(erros){$scope.erros=erros})};$scope.Upload=function(){VoluntarioService.Upload($scope.voluntario,$scope.picFile).then(function(){$scope.random=(new Date).getTime();$scope.progresso=0;$scope.picFile=null},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro, tente novamente<\/h1>                "+corpo,plain:!0})},function(progresso){$scope.progresso=progresso})};$scope.buscaCep=function(){$scope.voluntario&&$scope.voluntario.endereco&&$scope.voluntario.endereco.cep&&CepService.Pesquisa($scope.voluntario.endereco.cep).then(function(endereco){endereco.estado&&($scope.voluntario.endereco.estado=endereco.estado);endereco.bairro&&($scope.voluntario.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.voluntario.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.voluntario.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("VoluntarioCreateControl",["$scope","VoluntarioService","CepService","$location","ngDialog",function($scope,VoluntarioService,CepService,$location){$scope.voluntario={};$scope.salvar=function(){VoluntarioService.Create($scope.voluntario).then(function(){$location.path("/Voluntario/")},function(erros){$scope.erros=erros})};$scope.ufs=ufs;$scope.buscaCep=function(){$scope.voluntario&&$scope.voluntario.endereco&&$scope.voluntario.endereco.cep&&CepService.Pesquisa($scope.voluntario.endereco.cep).then(function(endereco){endereco.estado&&($scope.voluntario.endereco.estado=endereco.estado);endereco.bairro&&($scope.voluntario.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.voluntario.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.voluntario.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("VoluntarioNotificacaoControl",["$scope","VoluntarioService",function($scope,VoluntarioService){$scope.voluntariosComVencimento=[];$scope.voluntariosSemVencimento=[];$scope.semAgendamento="";$scope.vencendo="";$scope.vencendo=0;$scope.venceu=0;var read=function(){VoluntarioService.ReadCursoAtrasado().then(function(voluntarios){$scope.voluntariosComVencimento=[];$scope.voluntariosSemVencimento=[];$scope.vencendo=0;$scope.venceu=0;$scope.semAgendamento=VoluntarioService.totalItemsAtrasado;var umAnoAtras=Date.today().addYears(-1);angular.forEach(voluntarios,function(voluntario){voluntario.diasEmAtraso>0?($scope.voluntariosComVencimento.push(voluntario),$scope.venceu++):($scope.voluntariosSemVencimento.push(voluntario),$scope.vencendo++)})},function(){})};$scope.$on("voluntario.update",function(){read()});read()}]).controller("VoluntarioDisponivelControl",["$scope","VoluntarioService","$uibModal","voluntarios","loadingDialod","ngDialog","diaDaSemana",function($scope,VoluntarioService,$uibModal,voluntarios,loadingDialod,ngDialog,diaDaSemana){loadingDialod.close();var itensPorPagina=10;$scope.voluntarios=voluntarios;$scope.valorPesquisa="";$scope.diaDaSemana=diaDaSemana;$scope.totalItems=VoluntarioService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){VoluntarioService.toExcel($scope.valorPesquisa,$scope.diaDaSemana)};$scope.pageChanged=function(){VoluntarioService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa,$scope.diaDaSemana).then(function(voluntarios){$scope.voluntarios=voluntarios;$scope.totalItems=VoluntarioService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(voluntario){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Volunt\u00e1rio?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){VoluntarioService.Delete(voluntario).then(function(){var index=$scope.voluntarios.indexOf(voluntario);$scope.voluntarios.splice(index,1)},function(){})},function(){})}}]);angular.module("app").controller("InteressadoControl",["$scope","InteressadoService","interessados","loadingDialod","ngDialog",function($scope,InteressadoService,interessados,loadingDialod,ngDialog){loadingDialod.close();var itensPorPagina=10;$scope.interessados=interessados;$scope.totalItems=InteressadoService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){InteressadoService.toExcel($scope.valorPesquisa)};$scope.pageChanged=function(){InteressadoService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(interessados){$scope.interessados=interessados;$scope.totalItems=InteressadoService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(interessado){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Interessado?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){InteressadoService.Delete(interessado).then(function(){var index=$scope.interessados.indexOf(interessado);$scope.interessados.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("InteressadoUpdateControl",["$scope","InteressadoService","interessado","loadingDialod","$location",function($scope,InteressadoService,interessado,loadingDialod,$location){loadingDialod.close();$scope.interessado=interessado;$scope.random=(new Date).getTime();$scope.salvar=function(){InteressadoService.Update($scope.interessado).then(function(){$location.path("/Interessado")},function(erros){$scope.erros=erros})}}]).controller("InteressadoCreateControl",["$scope","InteressadoService","$location",function($scope,InteressadoService,$location){$scope.interessado={};$scope.salvar=function(){InteressadoService.Create($scope.interessado).then(function(){$location.path("/Interessado")},function(erros){$scope.erros=erros})}}]);angular.module("app").controller("EventoControl",["$scope","EventoService","eventos","loadingDialod","ngDialog",function($scope,EventoService,eventos,loadingDialod,ngDialog){var itensPorPagina=10,hoje,i;for($scope.eventos=eventos,hoje=new Date,i=0;i<$scope.eventos.length;i++)$scope.eventos[i].start instanceof Date||($scope.eventos[i].start=Date.parse($scope.eventos[i].start)),$scope.eventos[i].end instanceof Date||($scope.eventos[i].end=Date.parse($scope.eventos[i].end)),$scope.eventos[i].semParticipantes=$scope.eventos[i].participantes==0&&Math.floor($scope.eventos[i].start-hoje)/864e5<7;loadingDialod.close();$scope.totalItems=EventoService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){EventoService.toExcel($scope.valorPesquisa)};$scope.pageChanged=function(){EventoService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(eventos){$scope.eventos=eventos;for(var i=0;i<$scope.eventos.length;i++)$scope.eventos[i].start instanceof Date||($scope.eventos[i].start=Date.parse($scope.eventos[i].start)),$scope.eventos[i].end instanceof Date||($scope.eventos[i].end=Date.parse($scope.eventos[i].end));$scope.totalItems=EventoService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(evento){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este evento?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){EventoService.Delete(evento).then(function(){var index=$scope.eventos.indexOf(evento);$scope.eventos.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("EventoUpdateControl",["$scope","EventoService","evento","loadingDialod","$location","VoluntarioService","InteressadoService","FavorecidoService","DoadorService",function($scope,EventoService,evento,loadingDialod,$location,VoluntarioService,InteressadoService,FavorecidoService,DoadorService){loadingDialod.close();$scope.evento=evento;$scope.evento.voluntarios==null&&($scope.evento.voluntarios=[]);$scope.evento.interessados==null&&($scope.evento.interessados=[]);$scope.evento.favorecidos==null&&($scope.evento.favorecidos=[]);$scope.evento.doadoresPj==null&&($scope.evento.doadoresPj=[]);$scope.evento.doadoresPf==null&&($scope.evento.doadoresPf=[]);$scope.random=(new Date).getTime();$scope.evento.start instanceof Date||($scope.evento.start=Date.parse($scope.evento.start));$scope.evento.end instanceof Date||($scope.evento.end=Date.parse($scope.evento.end));$scope.options={required:!0,format:"hex",hue:!0,alpha:!1,swatchOnly:!0,"case":"upper",disabled:!1};$scope.salvar=function(){EventoService.Update($scope.evento).then(function(){$location.path("/Evento")},function(erros){$scope.erros=erros})};$scope.getVoluntarios=function(val){return VoluntarioService.Read(null,0,10,val).then(function(voluntarios){return voluntarios},function(){})};$scope.getInteressados=function(val){return InteressadoService.Read(null,0,10,val).then(function(interessados){return interessados},function(){})};$scope.getFavorecidos=function(val){return FavorecidoService.Read(null,0,10,val)};$scope.getDoadoresPf=function(val){return DoadorService.Read(null,0,10,"PF",val)};$scope.getDoadoresPj=function(val){return DoadorService.Read(null,0,10,"PJ",val)};$scope.addVoluntario=function($item){var v=$scope.voluntarioSelected,i;for($scope.voluntarioSelected=null,i=0;i<$scope.evento.voluntarios.length;i++)if($scope.evento.voluntarios[i].id==$item.id)return;$scope.evento.voluntarios.push(v)};$scope.addInteressado=function($item){var v=$scope.interessadoSelected,i;for($scope.interessadoSelected=null,i=0;i<$scope.evento.interessados.length;i++)if($scope.evento.interessados[i].id==$item.id)return;$scope.evento.interessados.push(v)};$scope.addFavorecido=function($item){var v=$scope.favorecidoSelected,i;for($scope.favorecidoSelected=null,i=0;i<$scope.evento.favorecidos.length;i++)if($scope.evento.favorecidos[i].id==$item.id)return;$scope.evento.favorecidos.push(v)};$scope.addPj=function($item){var v=$scope.pjSelected,i;for($scope.pjSelected=null,i=0;i<$scope.evento.doadoresPj.length;i++)if($scope.evento.doadoresPj[i].id==$item.id)return;$scope.evento.doadoresPj.push(v)};$scope.addPf=function($item){var v=$scope.pfSelected,i;for($scope.pfSelected=null,i=0;i<$scope.evento.doadoresPf.length;i++)if($scope.evento.doadoresPf[i].id==$item.id)return;$scope.evento.doadoresPf.push(v)};$scope.removerVoluntario=function(voluntario){var index=$scope.evento.voluntarios.indexOf(voluntario);$scope.evento.voluntarios.splice(index,1)};$scope.removerInteressado=function(interessado){var index=$scope.evento.interessados.indexOf(interessado);$scope.evento.interessados.splice(index,1)};$scope.removerFavorecido=function(favorecido){var index=$scope.evento.favorecidos.indexOf(favorecido);$scope.evento.favorecidos.splice(index,1)};$scope.removerPj=function(pj){var index=$scope.evento.doadoresPj.indexOf(pj);$scope.evento.doadoresPj.splice(index,1)};$scope.removerPf=function(pf){var index=$scope.evento.doadoresPf.indexOf(pf);$scope.evento.doadoresPf.splice(index,1)}}]).controller("EventoCreateControl",["$scope","EventoService","$location",function($scope,EventoService,$location){$scope.evento={valorDeEntrada:0,valorArrecadado:0,color:"#1A82C7",textColor:"#FFFFFF"};$scope.options={required:!0,format:"hex",hue:!0,alpha:!1,swatchOnly:!0,"case":"upper",disabled:!1};$scope.salvar=function(){EventoService.Create($scope.evento).then(function(){$location.path("/Evento")},function(erros){$scope.erros=erros})}}]);angular.module("app").controller("FavorecidoControl",["$scope","FavorecidoService","favorecidos","loadingDialod","ngDialog",function($scope,FavorecidoService,favorecidos,loadingDialod,ngDialog){var itensPorPagina=10,i;for($scope.favorecidos=favorecidos,i=0;i<$scope.favorecidos.length;i++)$scope.favorecidos[i].dataNascimento instanceof Date||($scope.favorecidos[i].dataNascimento=Date.parse($scope.favorecidos[i].dataNascimento)),$scope.favorecidos[i].dataDeCadastro instanceof Date||($scope.favorecidos[i].dataDeCadastro=Date.parse($scope.favorecidos[i].dataDeCadastro));loadingDialod.close();$scope.totalItems=FavorecidoService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){FavorecidoService.toExcel($scope.valorPesquisa)};$scope.pageChanged=function(){FavorecidoService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(favorecidos){$scope.favorecidos=favorecidos;for(var i=0;i<$scope.favorecidos.length;i++)$scope.favorecidos[i].dataNascimento instanceof Date||($scope.favorecidos[i].dataNascimento=Date.parse($scope.favorecidos[i].dataNascimento)),$scope.favorecidos[i].dataDeCadastro instanceof Date||($scope.favorecidos[i].dataDeCadastro=Date.parse($scope.favorecidos[i].dataDeCadastro));$scope.totalItems=FavorecidoService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(favorecido){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Favorecido?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){FavorecidoService.Delete(favorecido).then(function(){var index=$scope.favorecidos.indexOf(favorecido);$scope.favorecidos.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("FavorecidoUpdateControl",["$scope","FavorecidoService","favorecido","loadingDialod","$location","CepService",function($scope,FavorecidoService,favorecido,loadingDialod,$location,CepService){loadingDialod.close();$scope.favorecido=favorecido;$scope.random=(new Date).getTime();$scope.ufs=ufs;$scope.favorecido.dataNascimento instanceof Date||($scope.favorecido.dataNascimento=Date.parse($scope.favorecido.dataNascimento));$scope.favorecido.dataDeCadastro instanceof Date||($scope.favorecido.dataDeCadastro=Date.parse($scope.favorecido.dataDeCadastro));$scope.salvar=function(){FavorecidoService.Update($scope.favorecido).then(function(){$location.path("/Favorecido")},function(erros){$scope.erros=erros})};$scope.buscaCep=function(){$scope.favorecido.cep&&CepService.Pesquisa($scope.favorecido.cep).then(function(endereco){endereco.estado&&($scope.favorecido.estado=endereco.estado);endereco.bairro&&($scope.favorecido.bairro=endereco.bairro);endereco.cidade&&($scope.favorecido.cidade=endereco.cidade);endereco.logradouro&&($scope.favorecido.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("FavorecidoCreateControl",["$scope","FavorecidoService","$location","CepService",function($scope,FavorecidoService,$location,CepService){$scope.favorecido={};$scope.ufs=ufs;$scope.salvar=function(){FavorecidoService.Create($scope.favorecido).then(function(){$location.path("/Favorecido")},function(erros){$scope.erros=erros})};$scope.buscaCep=function(){$scope.favorecido.cep&&CepService.Pesquisa($scope.favorecido.cep).then(function(endereco){endereco.estado&&($scope.favorecido.estado=endereco.estado);endereco.bairro&&($scope.favorecido.bairro=endereco.bairro);endereco.cidade&&($scope.favorecido.cidade=endereco.cidade);endereco.logradouro&&($scope.favorecido.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]);angular.module("app").controller("DoadorControl",["$scope","DoadorService","doadores","loadingDialod","ngDialog",function($scope,DoadorService,doadores,loadingDialod,ngDialog){loadingDialod.close();var itensPorPagina=10;$scope.doadores=doadores;$scope.tipo="PF";$scope.totalItems=DoadorService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){DoadorService.toExcel($scope.tipo,$scope.valorPesquisa)};$scope.pageChanged=function(){DoadorService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.tipo,$scope.valorPesquisa).then(function(doadores){$scope.doadores=doadores;$scope.totalItems=DoadorService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.Select=function(tipo){$scope.tipo=tipo;$scope.currentPage=1;$scope.pageChanged()};$scope.delete=function(doador){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este doador?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){DoadorService.Delete(doador).then(function(){var index=$scope.doadores.indexOf(doador);$scope.doadores.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("DoadorUpdateControl",["$scope","DoadorService","doador","loadingDialod","$location","CepService","$window",function($scope,DoadorService,doador,loadingDialod,$location,CepService,$window){loadingDialod.close();$scope.doador=doador;$scope.random=(new Date).getTime();$scope.ufs=ufs;$scope.buscaCep=function(){$scope.doador&&$scope.doador.endereco&&$scope.doador.endereco.cep&&CepService.Pesquisa($scope.doador.endereco.cep).then(function(endereco){endereco.estado&&($scope.doador.endereco.estado=endereco.estado);endereco.bairro&&($scope.doador.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.doador.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.doador.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})};$scope.salvar=function(){DoadorService.Update($scope.doador).then(function(){$location.path("/Doador")},function(erros){$scope.erros=erros})};$scope.voltar=function(){$window.history.back()}}]).controller("DoadorCreateControl",["$scope","DoadorService","$location","CepService","doador","$window",function($scope,DoadorService,$location,CepService,doador,$window){$scope.doador=doador;$scope.salvar=function(){DoadorService.Create($scope.doador).then(function(){$window.history.back()},function(erros){$scope.erros=erros})};$scope.voltar=function(){$window.history.back()};$scope.ufs=ufs;$scope.buscaCep=function(){$scope.doador&&$scope.doador.endereco&&$scope.doador.endereco.cep&&CepService.Pesquisa($scope.doador.endereco.cep).then(function(endereco){endereco.estado&&($scope.doador.endereco.estado=endereco.estado);endereco.bairro&&($scope.doador.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.doador.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.doador.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("DoadorRelatorioControl",["$scope","DoadorService","doador","loadingDialod","DoacaoDinheiroService","ngDialog",function($scope,DoadorService,doador,loadingDialod,DoacaoDinheiroService,ngDialog){loadingDialod.close();$scope.doador=doador;$scope.doacoes=[];$scope.consultar=function(){DoacaoDinheiroService.ReadPeriodo($scope.start,$scope.end,$scope.doador.id).then(function(doacoes){$scope.doacoes=doacoes;$scope.totalItems=DoadorService.totalItems},function(){})};$scope.enviar=function(){DoadorService.EnviarRelatorioEmail($scope.doador.id,$scope.start,$scope.end).then(function(){ngDialog.openConfirm({template:'                <p>Email enviado<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="closeThisDialog(0)">OK<\/button>                <\/div>',plain:!0})},function(){ngDialog.openConfirm({template:'                <p>Erro ao enviar<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="closeThisDialog(0)">OK<\/button>                <\/div>',plain:!0})})}}]);angular.module("app").controller("InformativoControl",["$scope","InformativoService","UsuarioService","VoluntarioService","DoadorService","informativo","loadingDialod","ngDialog","$route",function($scope,InformativoService,UsuarioService,VoluntarioService,DoadorService,informativo,loadingDialod,ngDialog,$route){loadingDialod.close();$scope.informativo=informativo;$scope.progress=0;$scope.loadUsuarios=function(query){return UsuarioService.Read(null,0,5,query)};$scope.loadVoluntarios=function(query){return VoluntarioService.Read(null,0,5,query)};$scope.loadDoadoresFisicos=function(query){return DoadorService.Read(null,0,5,"PF",query)};$scope.loadDoadoresJuridicos=function(query){return DoadorService.Read(null,0,5,"PJ",query)};$scope.uploadFiles=function(file){InformativoService.Attach($scope.informativo,file).then(function(results){$scope.progresso=0;for(var i=0;i<results.length;i++)$scope.informativo.attachments.push(results[i])},function(){},function(progresso){$scope.progresso=progresso})};$scope.Salvar=function(){InformativoService.Update($scope.informativo).then(function(){})};$scope.AdicionarTodosUsuarios=function(){var carregando=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});UsuarioService.Read(null,0,1e6).then(function(usuarios){$scope.informativo.usuarios=usuarios;$scope.Salvar();carregando.close()},function(){})};$scope.AdicionarTodosVoluntarios=function(){var carregando=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});VoluntarioService.Read(null,0,1e6).then(function(voluntarios){$scope.informativo.voluntarios=voluntarios;$scope.Salvar();carregando.close()},function(){})};$scope.AdicionarTodosDoadoresPF=function(){var carregando=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});DoadorService.Read(null,0,1e6,"PF").then(function(doadoresFisicos){$scope.informativo.doadoresFisicos=doadoresFisicos;$scope.Salvar();carregando.close()},function(){})};$scope.AdicionarTodosDoadoresPJ=function(){var carregando=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});DoadorService.Read(null,0,1e6,"PJ").then(function(doadoresJuridicos){$scope.informativo.doadoresJuridicos=doadoresJuridicos;$scope.Salvar();carregando.close()},function(){})};$scope.enviar=function(){var enviando=ngDialog.open({template:"/templates/enviando.html",className:"ngdialog-theme-default"});InformativoService.Update($scope.informativo).then(function(){InformativoService.Send($scope.informativo).then(function(novoInfor){$scope.informativo=novoInfor;enviando.close();ngDialog.open({template:"/templates/Informativo/Sucesso.html",className:"ngdialog-theme-default"})},function(){})},function(){})};$scope.delete=function(){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Informativo?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){InformativoService.Delete($scope.informativo).then(function(){$route.reload()},function(){})},function(){})};$scope.Detach=function(attachment){InformativoService.Detach($scope.informativo,attachment).then(function(){var index=$scope.informativo.attachments.indexOf(attachment);$scope.informativo.attachments.splice(index,1)},function(){})}}]);angular.module("app").controller("ChartVoluntarioDiaDaSemanaControl",["$scope","ChartService","ngDialog","$location","$timeout",function($scope,ChartService,ngDialog,$location,$timeout){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});$scope.podeExibir=!1;var getOptions=function(labels,valores){return{title:{text:"Disponibilidade de volunt\u00e1rios",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",x:"left",data:labels},calculable:!0,series:[{itemStyle:{normal:{label:{formatter:function(params){return params.name+" : "+params.value+" volunt\u00e1rio(s)"}}}},name:"Disponibilidade",type:"pie",radius:"80%",center:["50%","50%"],data:valores}]}},labels=[],valores=[];$scope.eventos=[{type:echarts.config.EVENT.CLICK,fn:function(param){$timeout($location.path("/Voluntario/Disponivel/"+labels[param.dataIndex]))}}];ChartService.Read("VoluntarioDiaDaSemana").then(function(result){if(dialog.close(),result.data[0].datapoints.length>0){$scope.podeExibir=!0;labels=[];valores=[];for(var i=0;i<result.data[0].datapoints.length;i++)labels.push(result.data[0].datapoints[i].x),valores.push({value:result.data[0].datapoints[i].y,name:result.data[0].datapoints[i].x});$scope.options=getOptions(labels,valores)}else $scope.podeExibir=!1,ngDialog.openConfirm({template:'                <div class="text-center"><h1>Nada a exibir<\/h1><\/div>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Ok<\/button>                <\/div>',plain:!0})},function(erros){$scope.erros=erros})}]).controller("ChartDespesaPeriodoControl",["$scope","ChartService","ngDialog","$filter",function($scope,ChartService,ngDialog,$filter){$scope.tipo="ASSOCIACAO";$scope.tipoRelatorio="Associacao";$scope.start=null;$scope.end=null;$scope.podeExibir=!1;$scope.chartConfig={title:{text:"Despesas no per\u00edodo",x:"center"},forceClear:!0,debug:!0,showXAxis:!0,showYAxis:!0,showLegend:!1,stack:!0,loading:"Carregando...",errorMsg:"Erro",calculable:!0,theme:"infographic",center:["60%","10%"],legend:{orient:"verticle",x:"right",y:"center"},tooltip:{trigger:"axis",formatter:function(a){return a[0].name+"<br/>"+a[0].seriesName+" : "+$filter("currency")(a[0].value,"R$",2)}},itemStyle:{normal:{color:function(params){return["#C1232B","#B5C334","#FCCE10","#E87C25","#27727B","#FE8463","#9BCA63","#FAD860","#F3A43B","#60C0DD","#D7504B","#C6E579","#F4E001","#F0805A","#26C0C0","#D1232B","#C5C334","#ECCE10","#F87C25","#37727B","#EE8463","#ABCA63","#AAD860","#A3A43B","#70C0DD","#E7504B","#D6E579","#E4E001","#E0805A","#36C0C0"][params.dataIndex]},label:{show:!0,position:"top",formatter:function(a){return $filter("currency")(a.value,"R$",2)}}}}};$scope.advancedOptions={grid:{borderWidth:0,y:80,y2:100}};var read=function(){if($scope.start!=null&&$scope.end!=null){var params={filtro:$scope.tipo,start:$scope.start,end:$scope.end};ChartService.Read("DespesaPorItemNoPeriodo",params).then(function(result){result.data[0].datapoints.length>0?($scope.podeExibir=!0,$scope.chartData=result.data):($scope.podeExibir=!1,ngDialog.openConfirm({template:'                <div class="text-center"><h1>Nada a exibir<\/h1><\/div>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Ok<\/button>                <\/div>',plain:!0}))},function(erros){$scope.erros=erros;$scope.podeExibir=!1})}};$scope.$watch("start",function(){read()});$scope.$watch("end",function(){read()});$scope.$on("tipo",function(event,tipo){$scope.tipo=tipo;$scope.tipoRelatorio=tipo.capitalize();read()})}]).controller("ChartDoacoesPeriodoControl",["$scope","ChartService","ngDialog","$filter",function($scope,ChartService,ngDialog,$filter){$scope.start=null;$scope.end=null;$scope.podeExibir=!1;var getOptions=function(labels,valores){return{title:{text:"Doa\u00e7\u00f5es por m\u00eas",subtext:"Doa\u00e7\u00f5es em Dinheiro",x:"center"},tooltip:{trigger:"axis",formatter:function(a){return a[0].name+"<br/>"+a[0].seriesName+" : "+$filter("currency")(a[0].value,"R$",2)}},calculable:!0,xAxis:[{type:"category",data:labels}],yAxis:[{type:"value",axisLabel:{formatter:"R$ {value} "}}],series:[{name:"Valor",type:"bar",data:valores,itemStyle:{normal:{label:{show:!0,position:"top",formatter:function(a){return $filter("currency")(a.value,"R$",2)}}}}}]}},read=function(){if($scope.start!=null&&$scope.end!=null){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"}),params={start:$scope.start,end:$scope.end};ChartService.Read("DoacoesMensaisNoPeriodo",params).then(function(result){var labels,valores,i;if(dialog.close(),result.series[0].length>0){for($scope.podeExibir=!0,labels=result.labels,valores=result.series[0],i=0;i<labels.length;i++)labels[i]=$filter("date")(Date.parse(labels[i]),"MMMM-yyyy");$scope.options=getOptions(labels,valores)}else $scope.podeExibir=!1,ngDialog.openConfirm({template:'                            <div class="text-center"><h1>Nada a exibir<\/h1><\/div>                            <div class="ngdialog-buttons">                                <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Ok<\/button>                            <\/div>',plain:!0})},function(erros){$scope.erros=erros})}};$scope.$watch("start",function(){read()});$scope.$watch("end",function(){read()})}]).controller("ChartDoacoesPorDoadorPeriodoControl",["$scope","ChartService","ngDialog","$filter",function($scope,ChartService,ngDialog,$filter){$scope.start=null;$scope.end=null;$scope.podeExibir=!1;var getOptions=function(labels,valores){return{title:{text:"Doa\u00e7\u00f5es por m\u00eas",subtext:"Doa\u00e7\u00f5es em Dinheiro",x:"center"},tooltip:{trigger:"axis",formatter:function(a){return a[0].name+"<br/>"+a[0].seriesName+" : "+$filter("currency")(a[0].value,"R$",2)}},calculable:!0,xAxis:[{type:"category",data:labels}],yAxis:[{type:"value",axisLabel:{formatter:"R$ {value} "}}],series:[{name:"Valor",type:"bar",data:valores,itemStyle:{normal:{label:{show:!0,position:"top",formatter:function(a){return $filter("currency")(a.value,"R$",2)}}}}}]}},read=function(){if($scope.start!=null&&$scope.end!=null){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"}),params={start:$scope.start,end:$scope.end,id:$scope.doador.id};ChartService.Read("DoacoesMensaisPorDoadorNoPeriodo",params).then(function(result){var labels,valores,i;if(dialog.close(),result.series[0].length>0){for($scope.podeExibir=!0,labels=result.labels,valores=result.series[0],i=0;i<labels.length;i++)labels[i]=$filter("date")(Date.parse(labels[i]),"MMMM-yyyy");$scope.options=getOptions(labels,valores)}else $scope.podeExibir=!1,ngDialog.openConfirm({template:'                            <div class="text-center"><h1>Nada a exibir<\/h1><\/div>                            <div class="ngdialog-buttons">                                <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Ok<\/button>                            <\/div>',plain:!0})},function(erros){$scope.erros=erros;$scope.podeExibir=!1})}};$scope.$watch("start",function(){read()});$scope.$watch("end",function(){read()})}]);angular.module("app").controller("ItemControl",["$scope","ItemService","itens","loadingDialod","ngDialog",function($scope,ItemService,itens,loadingDialod,ngDialog){loadingDialod.close();var itensPorPagina=10;$scope.itens=itens;$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.totalItems=ItemService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){ItemService.toExcel($scope.valorPesquisa,$scope.destinoPesquisa)};$scope.pageChanged=function(){ItemService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa,$scope.destinoPesquisa).then(function(itens){$scope.itens=itens;$scope.totalItems=ItemService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(item){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Item?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){ItemService.Delete(item).then(function(){var index=$scope.itens.indexOf(item);$scope.itens.splice(index,1)},function(){ngDialog.open({template:"                <h1>Erro<\/h1>                 <p>Este item j\u00e1 est\u00e1 sendo utilizado e n\u00e3o pode ser apagado<\/p>                  ",plain:!0})})},function(){})}}]).controller("ItemUpdateControl",["$scope","ItemService","item","loadingDialod","$location",function($scope,ItemService,item,loadingDialod,$location){loadingDialod.close();$scope.item=item;$scope.random=(new Date).getTime();$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.salvar=function(){ItemService.Update($scope.item).then(function(){$location.path("/Item")},function(erros){$scope.erros=erros})}}]).controller("ItemCreateControl",["$scope","ItemService","$location","ngDialog","$window",function($scope,ItemService,$location,ngDialog,$window){$scope.item={};$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.salvar=function(){var dados="";dados+="<p>Destino: "+destinos[$scope.item.destino]+"<\/p>";dados+="<p>Item: "+$scope.item.nome+"<\/p>";dados+="<p>Unidade de media: "+unidadesDeMedida[$scope.item.unidadeDeMedida]+"<\/p>";ngDialog.openConfirm({template:"                <h2>Os dados est\u00e3o corretos?<\/h2>"+dados+'<div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){ItemService.Create($scope.item).then(function(){$window.history.back()},function(erros){$scope.erros=erros})},function(){})}}]);angular.module("app").controller("DespesaControl",["$scope","DespesaService","despesas","loadingDialod","ngDialog",function($scope,DespesaService,despesas,loadingDialod,ngDialog){var itensPorPagina,i;for(loadingDialod.close(),itensPorPagina=10,$scope.despesas=despesas,i=0;i<$scope.despesas.length;i++)$scope.despesas[i].dataDaCompra instanceof Date||($scope.despesas[i].dataDaCompra=Date.parse($scope.despesas[i].dataDaCompra));$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.tipo="ASSOCIACAO";$scope.totalItems=DespesaService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){DespesaService.toExcel($scope.tipo,$scope.valorPesquisa)};$scope.pageChanged=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});$scope.despesas=[];DespesaService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.tipo,$scope.valorPesquisa).then(function(despesas){$scope.despesas=despesas;$scope.totalItems=DespesaService.totalItems;for(var i=0;i<$scope.despesas.length;i++)$scope.despesas[i].dataDaCompra instanceof Date||($scope.despesas[i].dataDaCompra=Date.parse($scope.despesas[i].dataDaCompra));dialog.close()},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.Select=function(tipo){$scope.tipo=tipo;$scope.currentPage=1;$scope.pageChanged()};$scope.delete=function(despesa){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este despesa?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){DespesaService.Delete(despesa).then(function(){var index=$scope.despesas.indexOf(despesa);$scope.despesas.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})};$scope.$watch("tipo",function(newValue,oldValue){newValue!=oldValue&&$scope.$broadcast("tipo",$scope.tipo)})}]).controller("DespesaUpdateControl",["$scope","DespesaService","despesa","loadingDialod","$location","CepService","ItemService","FavorecidoService",function($scope,DespesaService,despesa,loadingDialod,$location,CepService,ItemService,FavorecidoService){loadingDialod.close();despesa.dataDaCompra=Date.parse(despesa.dataDaCompra);$scope.despesa=despesa;$scope.random=(new Date).getTime();$scope.despesa.valorTotal=$scope.despesa.valorUnitario*$scope.despesa.quantidade;$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.salvar=function(){DespesaService.Update($scope.despesa).then(function(){$location.path("/Despesa")},function(erros){$scope.erros=erros})};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,despesa.tipo)};$scope.getFavorecidos=function(val){return FavorecidoService.Read(null,0,10,val)};$scope.$watch("despesa.quantidade",function(){$scope.despesa.valorTotal=$scope.despesa.valorUnitario*$scope.despesa.quantidade});$scope.$watch("despesa.valorUnitario",function(){$scope.despesa.valorTotal=$scope.despesa.valorUnitario*$scope.despesa.quantidade});$scope.$watch("despesa.valorTotal",function(){$scope.despesa.valorUnitario=$scope.despesa.quantidade>0&&$scope.despesa.valorTotal>0?$scope.despesa.valorTotal/$scope.despesa.quantidade:0})}]).controller("DespesaCreateControl",["$scope","DespesaService","ItemService","FavorecidoService","$location","CepService","despesa",function($scope,DespesaService,ItemService,FavorecidoService,$location,CepService,despesa){$scope.despesa=despesa;$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.salvar=function(){DespesaService.Create($scope.despesa).then(function(){$location.path("/Despesa")},function(erros){$scope.erros=erros})};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,despesa.tipo)};$scope.getFavorecidos=function(val){return FavorecidoService.Read(null,0,10,val)};$scope.$watch("despesa.quantidade",function(){$scope.despesa.valorTotal=$scope.despesa.valorUnitario*$scope.despesa.quantidade});$scope.$watch("despesa.valorUnitario",function(){$scope.despesa.valorTotal=$scope.despesa.valorUnitario*$scope.despesa.quantidade});$scope.$watch("despesa.valorTotal",function(){$scope.despesa.valorUnitario=$scope.despesa.quantidade>0&&$scope.despesa.valorTotal>0?$scope.despesa.valorTotal/$scope.despesa.quantidade:0})}]).controller("DespesaRelatorioControl",["$scope","DespesaService","dados","$routeParams","loadingDialod","$filter",function($scope,DespesaService,dados,$routeParams,loadingDialod,$filter){var getOptions=function(labels,valores){return{title:{text:"Despesas no per\u00edodo",x:"center"},tooltip:{trigger:"axis",formatter:function(a){return a[0].name+"<br/>"+a[0].seriesName+" : "+$filter("currency")(a[0].value,"R$",2)}},calculable:!0,xAxis:[{type:"category",data:labels}],yAxis:[{type:"value",axisLabel:{formatter:"R$ {value} "}}],series:[{name:"Valor",type:"bar",data:valores,itemStyle:{normal:{label:{show:!0,position:"top",formatter:function(a){return $filter("currency")(a.value,"R$ ",2)}}}}}]}},labels,valores;$scope.dados=dados;$scope.start=Date.parse($routeParams.start);$scope.end=Date.parse($routeParams.end);labels=[];valores=[];angular.forEach(dados,function(value,key){labels.push(key);valores.push(value)});$scope.options=getOptions(labels,valores);loadingDialod.close()}]);angular.module("app").controller("DoacaoControl",["$scope","loadingDialod","ngDialog","DoacaoDinheiroService","DoacaoSopaService","DoacaoObjetoService","doacoes",function($scope,loadingDialod,ngDialog,DoacaoDinheiroService,DoacaoSopaService,DoacaoObjetoService,doacoes){var itensPorPagina,fixDatas;loadingDialod.close();itensPorPagina=10;$scope.unidadesDeMedida=unidadesDeMedida;$scope.doacoes=doacoes;fixDatas=function(){for(var i=0;i<$scope.doacoes.length;i++)$scope.doacoes[i].dataDaDoacao instanceof Date||($scope.doacoes[i].dataDaDoacao=Date.parse($scope.doacoes[i].dataDaDoacao)),!$scope.doacoes[i].dataDeRetirada||$scope.doacoes[i].dataDeRetirada instanceof Date||($scope.doacoes[i].dataDeRetirada=Date.parse($scope.doacoes[i].dataDeRetirada))};fixDatas();$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.tipo="DINHEIRO";$scope.totalItems=DoacaoDinheiroService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){var DoacaoService={};switch($scope.tipo){case"DINHEIRO":DoacaoService=DoacaoDinheiroService;break;case"SOPA":DoacaoService=DoacaoSopaService;break;case"OBJETO":DoacaoService=DoacaoObjetoService}DoacaoService.toExcel($scope.valorPesquisa)};$scope.pageChanged=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"}),DoacaoService={};switch($scope.tipo){case"DINHEIRO":DoacaoService=DoacaoDinheiroService;break;case"SOPA":DoacaoService=DoacaoSopaService;break;case"OBJETO":DoacaoService=DoacaoObjetoService}DoacaoService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(doacoes){$scope.doacoes=doacoes;$scope.totalItems=DoacaoService.totalItems;fixDatas();dialog.close()},function(){dialog.close()})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.Select=function(tipo){$scope.tipo=tipo;$scope.currentPage=1;$scope.pageChanged()};$scope.delete=function(doacao){var DoacaoService={};switch($scope.tipo){case"DINHEIRO":DoacaoService=DoacaoDinheiroService;break;case"SOPA":DoacaoService=DoacaoSopaService;break;case"OBJETO":DoacaoService=DoacaoObjetoService}ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este doa\u00e7\u00e3o?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){DoacaoService.Delete(doacao).then(function(){var index=$scope.doacoes.indexOf(doacao);$scope.doacoes.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})};$scope.$watch("tipo",function(newValue,oldValue){newValue!=oldValue&&$scope.$broadcast("tipo",$scope.tipo)})}]).controller("DoacaoCreateDinheiroControl",["$scope","DoacaoDinheiroService","DoadorService","$location","ngDialog",function($scope,DoacaoDinheiroService,DoadorService,$location,ngDialog){$scope.doacao={};$scope.tipo="PF";$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});DoacaoDinheiroService.Create($scope.doacao).then(function(){dialog.close();$location.path("/Doacao")},function(erros){$scope.erros=erros;dialog.close()})};$scope.getDoadores=function(val){return DoadorService.Read(null,0,10,$scope.tipo,val)}}]).controller("DoacaoUpdateDinheiroControl",["$scope","DoacaoDinheiroService","DoadorService","$location","loadingDialod","ngDialog","doacao",function($scope,DoacaoDinheiroService,DoadorService,$location,loadingDialod,ngDialog,doacao){loadingDialod.close();doacao.dataDaDoacao=Date.parse(doacao.dataDaDoacao);$scope.doacao=doacao;$scope.tipo=doacao.doador.tipo;$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});DoacaoDinheiroService.Update($scope.doacao).then(function(){dialog.close();$location.path("/Doacao")},function(erros){dialog.close();$scope.erros=erros})};$scope.getDoadores=function(val){return DoadorService.Read(null,0,10,$scope.tipo,val)}}]).controller("DoacaoCreateSopaControl",["$scope","DoacaoSopaService","DoadorService","ItemService","$location","ngDialog",function($scope,DoacaoSopaService,DoadorService,ItemService,$location,ngDialog){$scope.doacao={};$scope.tipo="PF";$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});DoacaoSopaService.Create($scope.doacao).then(function(){dialog.close();$location.path("/Doacao")},function(erros){$scope.erros=erros;dialog.close()})};$scope.getDoadores=function(val){return DoadorService.Read(null,0,10,$scope.tipo,val)};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,"SOPA")}}]).controller("DoacaoUpdateSopaControl",["$scope","DoacaoSopaService","DoadorService","$location","loadingDialod","ngDialog","doacao","ItemService",function($scope,DoacaoSopaService,DoadorService,$location,loadingDialod,ngDialog,doacao,ItemService){loadingDialod.close();doacao.dataDaDoacao=Date.parse(doacao.dataDaDoacao);$scope.doacao=doacao;$scope.unidadesDeMedida=unidadesDeMedida;$scope.tipo=doacao.doador.tipo;$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});DoacaoSopaService.Update($scope.doacao).then(function(){dialog.close();$location.path("/Doacao")},function(erros){dialog.close();$scope.erros=erros})};$scope.getDoadores=function(val){return DoadorService.Read(null,0,10,$scope.tipo,val)};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,"SOPA")}}]).controller("DoacaoCreateObjetoControl",["$scope","DoacaoObjetoService","DoadorService","$location","CepService","ngDialog","VoluntarioService",function($scope,DoacaoObjetoService,DoadorService,$location,CepService,ngDialog,VoluntarioService){$scope.doacao={endereco:{}};$scope.tipo="PF";$scope.ufs=ufs;$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});DoacaoObjetoService.Create($scope.doacao).then(function(){dialog.close();$location.path("/Doacao")},function(erros){$scope.erros=erros;dialog.close()})};$scope.getDoadores=function(val){return DoadorService.Read(null,0,10,$scope.tipo,val)};$scope.getMotoristas=function(val){return VoluntarioService.ReadMotorista(0,10,val)};$scope.$watch("doacao.doador",function(newValue,oldValue){newValue!=oldValue&&$scope.doacao.doador&&DoadorService.Read($scope.doacao.doador.id).then(function(doador){$scope.doacao.endereco={estado:doador.endereco.estado,cidade:doador.endereco.cidade,bairro:doador.endereco.bairro,cep:doador.endereco.cep,logradouro:doador.endereco.logradouro,numero:doador.endereco.numero,complemento:doador.endereco.complemento}},function(){})});$scope.buscaCep=function(){$scope.doacao.endereco.cep&&CepService.Pesquisa($scope.doacao.endereco.cep).then(function(endereco){endereco.estado&&($scope.doacao.endereco.estado=endereco.estado);endereco.bairro&&($scope.doacao.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.doacao.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.doacao.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("DoacaoUpdateObjetoControl",["$scope","DoacaoObjetoService","DoadorService","$location","loadingDialod","ngDialog","doacao","VoluntarioService",function($scope,DoacaoObjetoService,DoadorService,$location,loadingDialod,ngDialog,doacao,VoluntarioService){loadingDialod.close();doacao.dataDaDoacao=Date.parse(doacao.dataDaDoacao);doacao.dataDeRetirada=Date.parse(doacao.dataDeRetirada);$scope.doacao=doacao;$scope.ufs=ufs;$scope.tipo=doacao.doador.tipo;$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});DoacaoObjetoService.Update($scope.doacao).then(function(){dialog.close();$location.path("/Doacao")},function(erros){dialog.close();$scope.erros=erros})};$scope.getDoadores=function(val){return DoadorService.Read(null,0,10,$scope.tipo,val)};$scope.getMotoristas=function(val){return VoluntarioService.ReadMotorista(0,10,val)};$scope.$watch("doacao.doador",function(newValue,oldValue){newValue!=oldValue&&$scope.doacao.doador&&DoadorService.Read($scope.doacao.doador.id).then(function(doador){$scope.doacao.endereco={estado:doador.endereco.estado,cidade:doador.endereco.cidade,bairro:doador.endereco.bairro,cep:doador.endereco.cep,logradouro:doador.endereco.logradouro,numero:doador.endereco.numero,complemento:doador.endereco.complemento}},function(){})});$scope.buscaCep=function(){$scope.doacao.endereco.cep&&CepService.Pesquisa($scope.doacao.endereco.cep).then(function(endereco){endereco.estado&&($scope.doacao.endereco.estado=endereco.estado);endereco.bairro&&($scope.doacao.endereco.bairro=endereco.bairro);endereco.cidade&&($scope.doacao.endereco.cidade=endereco.cidade);endereco.logradouro&&($scope.doacao.endereco.logradouro=endereco.logradouro);$scope.msgErro=""},function(){$scope.msgErro="CEP n\u00e3o localizado"})}}]).controller("DoacaoDinheiroRelatorioControl",["$scope","DoacaoDinheiroService","dados","$routeParams","loadingDialod","$filter",function($scope,DoacaoDinheiroService,dados,$routeParams,loadingDialod,$filter){var getOptions=function(labels,valores){return{title:{text:"Doa\u00e7\u00f5es por m\u00eas",subtext:"Doa\u00e7\u00f5es em Dinheiro",x:"center"},tooltip:{trigger:"axis",formatter:function(a){return a[0].name+"<br/>"+a[0].seriesName+" : "+$filter("currency")(a[0].value,"R$",2)}},calculable:!0,xAxis:[{type:"category",data:labels}],yAxis:[{type:"value",axisLabel:{formatter:"R$ {value} "}}],series:[{name:"Valor",type:"bar",data:valores,itemStyle:{normal:{label:{show:!0,position:"top",formatter:function(a){return $filter("currency")(a.value,"R$",2)}}}}}]}},labels,valores;$scope.dados={};$scope.start=Date.parse($routeParams.start);$scope.end=Date.parse($routeParams.end);labels=[];valores=[];angular.forEach(dados,function(value,key){var mes=$filter("date")(Date.parse(key),"MMMM-yyyy");labels.push(mes);valores.push(value);$scope.dados[mes]=value});$scope.options=getOptions(labels,valores);loadingDialod.close()}]);angular.module("app").controller("ModeloDeReceitaControl",["$scope","loadingDialod","ngDialog","ModeloDeReceitaService","modelos",function($scope,loadingDialod,ngDialog,ModeloDeReceitaService,modelos){loadingDialod.close();var itensPorPagina=10;$scope.unidadesDeMedida=unidadesDeMedida;$scope.modelos=modelos;$scope.totalItems=ModeloDeReceitaService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){ModeloDeReceitaService.toExcel($scope.valorPesquisa)};$scope.pageChanged=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});ModeloDeReceitaService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(modelos){$scope.modelos=modelos;$scope.totalItems=ModeloDeReceitaService.totalItems;dialog.close()},function(){dialog.close()})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(modelo){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este modelo?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){ModeloDeReceitaService.Delete(modelo).then(function(){var index=$scope.modelos.indexOf(modelo);$scope.modelos.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("ModeloDeReceitaCreateControl",["$scope","ModeloDeReceitaService","ItemService","$location","ngDialog",function($scope,ModeloDeReceitaService,ItemService,$location,ngDialog){$scope.modelo={itens:[]};$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});ModeloDeReceitaService.Create($scope.modelo).then(function(){dialog.close();$location.path("/ModeloDeReceita")},function(erros){$scope.erros=erros;dialog.close()})};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,"SOPA")};$scope.addItem=function(){if($scope.itemSelected){for(var i=0;i<$scope.modelo.itens.length;i++)if($scope.itemSelected.id==$scope.modelo.itens[i].item.id){$scope.itemSelected=null;return}$scope.modelo.itens.push({item:$scope.itemSelected,quantidade:0});$scope.itemSelected=null}};$scope.removerItem=function(item){var index=$scope.modelo.itens.indexOf(item);$scope.modelo.itens.splice(index,1)}}]).controller("ModeloDeReceitaUpdateControl",["$scope","ModeloDeReceitaService","ItemService","$location","loadingDialod","ngDialog","modelo",function($scope,ModeloDeReceitaService,ItemService,$location,loadingDialod,ngDialog,modelo){loadingDialod.close();$scope.unidadesDeMedida=unidadesDeMedida;$scope.modelo=modelo;$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});ModeloDeReceitaService.Update($scope.modelo).then(function(){dialog.close();$location.path("/ModeloDeReceita")},function(erros){dialog.close();$scope.erros=erros})};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,"SOPA")};$scope.addItem=function(){if($scope.itemSelected){for(var i=0;i<$scope.modelo.itens.length;i++)if($scope.itemSelected.id==$scope.modelo.itens[i].item.id){$scope.itemSelected=null;return}$scope.modelo.itens.push({item:$scope.itemSelected,quantidade:0});$scope.itemSelected=null}};$scope.removerItem=function(item){var index=$scope.modelo.itens.indexOf(item);$scope.modelo.itens.splice(index,1)}}]);angular.module("app").controller("ResultadoSopaControl",["$scope","loadingDialod","ngDialog","ResultadoSopaService","resultados",function($scope,loadingDialod,ngDialog,ResultadoSopaService,resultados){loadingDialod.close();var itensPorPagina=10;$scope.unidadesDeMedida=unidadesDeMedida;$scope.resultados=resultados;$scope.totalItems=ResultadoSopaService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){ResultadoSopaService.toExcel($scope.valorPesquisa)};$scope.pageChanged=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});ResultadoSopaService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa).then(function(resultados){$scope.resultados=resultados;$scope.totalItems=ResultadoSopaService.totalItems;dialog.close()},function(){dialog.close()})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(resultado){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este resultado?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){ResultadoSopaService.Delete(resultado).then(function(){var index=$scope.resultados.indexOf(resultado);$scope.resultados.splice(index,1)},function(erros){var corpo="";angular.forEach(erros,function(value,key){corpo+='<div class="list-group">';corpo+='<a href="#" class="list-group-item list-group-item-danger">'+key+"<\/a>";for(var i=0;i<value.length;i++)corpo+='<a href="#" class="list-group-item">'+value[i]+"<\/a>";corpo+="<\/div>"});ngDialog.open({template:"                <h1>Erro<\/h1>                "+corpo,plain:!0})})},function(){})}}]).controller("ResultadoSopaCreateControl",["$scope","ResultadoSopaService","ModeloDeReceitaService","ItemService","$location","ngDialog",function($scope,ResultadoSopaService,ModeloDeReceitaService,ItemService,$location,ngDialog){$scope.resultado={itens:[]};$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});ResultadoSopaService.Create($scope.resultado).then(function(){dialog.close();$location.path("/ResultadoSopa")},function(erros){$scope.erros=erros;dialog.close()})};$scope.getModelos=function(val){return ModeloDeReceitaService.Read(null,0,10,val)};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,"SOPA")};$scope.addItem=function(){if($scope.itemSelected){for(var i=0;i<$scope.resultado.itens.length;i++)if($scope.itemSelected.id==$scope.resultado.itens[i].item.id){$scope.itemSelected=null;return}$scope.resultado.itens.push({item:$scope.itemSelected,quantidade:0});$scope.itemSelected=null}};$scope.removerItem=function(item){var index=$scope.resultado.itens.indexOf(item);$scope.resultado.itens.splice(index,1)};$scope.$watch("resultado.modeloDeReceita",function(newValue,oldValue){newValue!=oldValue&&$scope.resultado.modeloDeReceita&&ModeloDeReceitaService.Read($scope.resultado.modeloDeReceita.id).then(function(modelo){for(var repetido,j,i=0;i<modelo.itens.length;i++){for(repetido=!1,j=0;j<$scope.resultado.itens.length;j++)repetido=modelo.itens[i].item.id==$scope.resultado.itens[j].item.id||repetido;repetido||$scope.resultado.itens.push({item:modelo.itens[i].item,quantidade:modelo.itens[i].quantidade})}},function(){})})}]).controller("ResultadoSopaUpdateControl",["$scope","ResultadoSopaService","ModeloDeReceitaService","ItemService","$location","loadingDialod","ngDialog","resultado",function($scope,ResultadoSopaService,ModeloDeReceitaService,ItemService,$location,loadingDialod,ngDialog,resultado){loadingDialod.close();$scope.unidadesDeMedida=unidadesDeMedida;resultado.data=Date.parse(resultado.data);$scope.resultado=resultado;$scope.salvar=function(){var dialog=ngDialog.open({template:"/templates/salvando.html",className:"ngdialog-theme-default"});ResultadoSopaService.Update($scope.resultado).then(function(){dialog.close();$location.path("/ResultadoSopa")},function(erros){dialog.close();$scope.erros=erros})};$scope.getModelos=function(val){return ModeloDeReceitaService.Read(null,0,10,val)};$scope.getItens=function(val){return ItemService.Read(null,0,10,val,"SOPA")};$scope.addItem=function(){if($scope.itemSelected){for(var i=0;i<$scope.resultado.itens.length;i++)if($scope.itemSelected.id==$scope.resultado.itens[i].item.id){$scope.itemSelected=null;return}$scope.resultado.itens.push({item:$scope.itemSelected,quantidade:0});$scope.itemSelected=null}};$scope.removerItem=function(item){var index=$scope.resultado.itens.indexOf(item);$scope.resultado.itens.splice(index,1)};$scope.$watch("resultado.modeloDeReceita",function(newValue,oldValue){newValue!=oldValue&&$scope.resultado.modeloDeReceita&&ModeloDeReceitaService.Read($scope.resultado.modeloDeReceita.id).then(function(modelo){for(var repetido,j,i=0;i<modelo.itens.length;i++){for(repetido=!1,j=0;j<$scope.resultado.itens.length;j++)repetido=modelo.itens[i].item.id==$scope.resultado.itens[j].item.id||repetido;repetido||$scope.resultado.itens.push({item:modelo.itens[i].item,quantidade:modelo.itens[i].quantidade})}},function(){})})}]);angular.module("app").controller("EstoqueControl",["$scope","EstoqueService","itens","loadingDialod","ngDialog",function($scope,EstoqueService,itens,loadingDialod){loadingDialod.close();var itensPorPagina=10;$scope.itens=itens;$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.negativos=!1;$scope.totalItems=EstoqueService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){EstoqueService.toExcel($scope.valorPesquisa,$scope.negativos)};$scope.pageChanged=function(){EstoqueService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa,$scope.negativos).then(function(itens){$scope.itens=itens;$scope.totalItems=EstoqueService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()}}]).controller("EstoqueUpdateControl",["$scope","EstoqueService","item","loadingDialod","$location",function($scope,EstoqueService,item,loadingDialod,$location){loadingDialod.close();$scope.item=item;$scope.random=(new Date).getTime();$scope.destinos=destinos;$scope.unidadesDeMedida=unidadesDeMedida;$scope.salvar=function(){EstoqueService.Update($scope.item).then(function(){$location.path("/Estoque")},function(erros){$scope.erros=erros})}}]);angular.module("app").controller("PlanejamentoControl",["$scope","PlanejamentoService","ngDialog","ModeloDeReceitaService",function($scope,PlanejamentoService,ngDialog,ModeloDeReceitaService){$scope.modelos=[];$scope.podeExibir=!1;var getOptions=function(labels,valores){return{title:{text:"Planejamento",subtext:"Quantos dias por item",x:"center"},tooltip:{trigger:"axis"},calculable:!0,xAxis:[{type:"value",boundaryGap:[0,.01],axisLabel:{formatter:"{value} dias"}}],yAxis:[{type:"category",data:labels}],series:[{name:"Dias",type:"bar",data:valores}]}};$scope.getModelos=function(val){return ModeloDeReceitaService.Read(null,0,10,val)};$scope.addModelo=function(){if($scope.itemSelected){for(var i=0;i<$scope.modelos.length;i++)if($scope.itemSelected.id==$scope.modelos[i].modelo.id){$scope.itemSelected=null;return}$scope.modelos.push({modelo:$scope.itemSelected,quantidade:1});$scope.itemSelected=null}};$scope.removerModelo=function(modelo){var index=$scope.modelos.indexOf(modelo);$scope.modelos.splice(index,1)};$scope.visualizar=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});PlanejamentoService.Consulta($scope.modelos).then(function(result){dialog.close();var labels=[],valores=[];angular.forEach(result,function(value,key){labels.push(key);valores.push(value)});valores.length>0?($scope.podeExibir=!0,$scope.options=getOptions(labels,valores)):($scope.podeExibir=!1,ngDialog.openConfirm({template:'                            <div class="text-center"><h1>Nada a exibir<\/h1><\/div>                            <div class="ngdialog-buttons">                                <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Ok<\/button>                            <\/div>',plain:!0}))},function(erros){$scope.erros=erros})}}]);angular.module("app").controller("UsuarioControl",["$scope","AccountService","usuarios","loadingDialod","ngDialog",function($scope,AccountService,usuarios,loadingDialod,ngDialog){loadingDialod.close();var itensPorPagina=10;$scope.usuarios=usuarios;$scope.totalItems=AccountService.totalItems;$scope.currentPage=1;$scope.ToExcel=function(){AccountService.toExcel($scope.valorPesquisa,$scope.adminPesquisa,$scope.ativoPesquisa)};$scope.pageChanged=function(){AccountService.Read(null,($scope.currentPage-1)*itensPorPagina,itensPorPagina,$scope.valorPesquisa,$scope.adminPesquisa,$scope.ativoPesquisa).then(function(usuarios){$scope.usuarios=usuarios;$scope.totalItems=AccountService.totalItems},function(){})};$scope.pesquisar=function(){$scope.pageChanged()};$scope.delete=function(usuario){ngDialog.openConfirm({template:'                <p>Tem certeza que quer apagar este Usuario?<\/p>                <div class="ngdialog-buttons">                    <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">N\u00e3o<\/button>                    <button type="button" class="ngdialog-button ngdialog-button-primary" ng-click="confirm(1)">Sim<\/button>                <\/div>',plain:!0}).then(function(){AccountService.Delete(usuario).then(function(){var index=$scope.usuarios.indexOf(usuario);$scope.usuarios.splice(index,1)},function(){ngDialog.open({template:"<h1>N\u00e3o \u00e9 poss\u00edvel apagar este usu\u00e1rio<\/h1>",plain:!0})})},function(){})}}]).controller("UsuarioUpdateControl",["$scope","AccountService","usuario","loadingDialod","$location",function($scope,AccountService,usuario,loadingDialod,$location){loadingDialod.close();$scope.usuario=usuario;$scope.random=(new Date).getTime();$scope.salvar=function(){AccountService.Update($scope.usuario).then(function(){$location.path("/Usuario")},function(erros){$scope.erros=erros})}}]).controller("UsuarioCreateControl",["$scope","AccountService","$location",function($scope,AccountService,$location){$scope.usuario={};$scope.salvar=function(){AccountService.Create($scope.usuario).then(function(){$location.path("/Usuario")},function(erros){$scope.erros=erros})}}]);angular.module("app").controller("ResultadosGeraisControl",["$scope","ResultadosGeraisService","ngDialog","$filter","$timeout",function($scope,ResultadosGeraisService,ngDialog,$filter,$timeout){$scope.unidadesDeMedida=unidadesDeMedida;$scope.podeExibir=!1;$scope.resultado=null;$scope.api={};var getOptions=function(labels,seriesName,seriesData,colors){for(var series=[],i=0;i<seriesName.length;i++)series.push({name:seriesName[i],type:"bar",data:seriesData[i],itemStyle:{normal:{color:colors[i],label:{show:!0,position:"top",formatter:function(a){return $filter("currency")(a.value,"R$",2)}}}}});return{title:{text:"Doa\u00e7\u00f5es x Despesas por m\u00eas",x:"center"},tooltip:{trigger:"axis",formatter:function(a){return a[0].name+"<br/>"+a[0].seriesName+" : "+$filter("currency")(a[0].value,"R$",2)+"<br/>"+a[1].seriesName+" : "+$filter("currency")(a[1].value,"R$",2)}},calculable:!0,xAxis:[{type:"category",data:labels}],yAxis:[{type:"value",axisLabel:{formatter:"R$ {value} "}}],series:series}};$scope.consultar=function(){ResultadosGeraisService.Read($scope.start,$scope.end).then(function(resultado){var i;if($scope.resultado=resultado,resultado.chartData.labels.length>0){$scope.podeExibir=!0;var labels=resultado.chartData.labels,seriesName=resultado.chartData.seriesName,seriesData=resultado.chartData.series;for(i=0;i<labels.length;i++)labels[i]=$filter("date")(Date.parse(labels[i]),"MMMM-yyyy");$scope.options=getOptions(labels,seriesName,seriesData,["blue","red"])}else $scope.podeExibir=!1},function(){})};$scope.resizeChart=function(){$scope.api.chart&&$timeout(function(){$scope.api.chart.resize()},500)}}]).controller("ResultadosGeraisRelatorioControl",["$scope","ResultadosGeraisService","ngDialog","$filter","$timeout","dados","loadingDialod",function($scope,ResultadosGeraisService,ngDialog,$filter,$timeout,dados,loadingDialod){var getOptions,i;if($scope.unidadesDeMedida=unidadesDeMedida,loadingDialod.close(),$scope.resultado=dados,getOptions=function(labels,seriesName,seriesData,colors){for(var series=[],i=0;i<seriesName.length;i++)series.push({name:seriesName[i],type:"bar",data:seriesData[i],itemStyle:{normal:{color:colors[i],label:{show:!0,position:"top",formatter:function(a){return $filter("currency")(a.value,"R$",2)}}}}});return{title:{text:"Doa\u00e7\u00f5es x Despesas por m\u00eas",x:"center"},tooltip:{trigger:"axis",formatter:function(a){return a[0].name+"<br/>"+a[0].seriesName+" : "+$filter("currency")(a[0].value,"R$",2)+"<br/>"+a[1].seriesName+" : "+$filter("currency")(a[1].value,"R$",2)}},calculable:!0,xAxis:[{type:"category",data:labels}],yAxis:[{type:"value",axisLabel:{formatter:"R$ {value} "}}],series:series}},dados.chartData.labels.length>0){$scope.podeExibir=!0;var labels=dados.chartData.labels,seriesName=dados.chartData.seriesName,seriesData=dados.chartData.series;for(i=0;i<labels.length;i++)labels[i]=$filter("date")(Date.parse(labels[i]),"MMMM-yyyy");$scope.options=getOptions(labels,seriesName,seriesData,["blue","red"])}else $scope.podeExibir=!1}]);angular.module("app").controller("EventosMaisProcuradosControl",["$scope","EventosMaisProcuradosService","ngDialog",function($scope,EventosMaisProcuradosService,ngDialog){$scope.resultado=null;$scope.consultar=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});EventosMaisProcuradosService.Read($scope.start,$scope.end).then(function(resultado){dialog.close();$scope.resultado=resultado},function(){dialog.close()})}}]).controller("MelhoresDoadoresControl",["$scope","MelhoresDoadoresService","ngDialog",function($scope,MelhoresDoadoresService,ngDialog){$scope.resultado=null;$scope.consultar=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});MelhoresDoadoresService.Read($scope.start,$scope.end).then(function(resultado){dialog.close();$scope.resultado=resultado},function(){dialog.close()})}}]).controller("FavorecidoMaisBeneficiadosControl",["$scope","FavorecidoMaisBeneficiadosService","ngDialog",function($scope,FavorecidoMaisBeneficiadosService,ngDialog){$scope.resultado=null;$scope.consultar=function(){var dialog=ngDialog.open({template:"/templates/loading.html",className:"ngdialog-theme-default"});FavorecidoMaisBeneficiadosService.Read($scope.start,$scope.end).then(function(resultado){dialog.close();$scope.resultado=resultado},function(){dialog.close()})}}]);
//# sourceMappingURL=site.min.js.map